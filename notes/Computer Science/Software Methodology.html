---
layout: page
title: Notes
subtitle: From Paul Jones at Rutgers University
---
{% raw %}
<h1 id="software-methodology-with-professor-sesh-venugopal">Software Methodology <small>with Professor Sesh Venugopal</small></h1>
<h2 id="description">Description</h2>
<p>This course teaches essential principles, techniques, tools, and methods used to develop large software programs in Java. These include object-oriented programming and design, Unified Modeling Language (UML), testing and debugging, using and documenting APIs, asynchronous (event-driven) programming in a Graphical Use Interface (GUI) framework, code maintenance and version management using CVS, software development using Eclipse, introduction to building software on mobile platforms, introduction to multithreading, network programming, and object persistence.</p>
<ul>
<li>Topics:
<ul>
<li>Inheritance, interfaces, abstract classes, polymorphism</li>
<li>Unified Modeling Language (UML)</li>
<li><p>Essential design patterns, including Singleton, Model-View-Controller (MVC), Template Method, State</p></li>
<li><p>Black-box unit testing, debugging, developing large applications in Eclipse</p></li>
<li>Object persistence, serialization</li>
<li>Code management using CVS</li>
<li>Designing and implementing GUIs using Java Swing and AWT</li>
<li><p>Frames, dialogs, panels, widgets, tables, layouts, colors, fonts, drawing, painting</p></li>
<li>The Swing MVC architecture and working with data models</li>
<li>Event handling</li>
<li>Introduction to software development on mobile platforms</li>
<li>Introduction to multithreading</li>
<li><p>Introduction to network programming</p></li>
</ul></li>
</ul>
<h2 id="syllabus">Syllabus</h2>
<ul>
<li>Topics
<ol style="list-style-type: decimal">
<li><p>Overview of software methodology. Object-oriented programming. Iterative development. Testing. Documentation. Source code management with Mercurial.</p></li>
<li><p>Object-Oriented Design with Java. Class design, interfaces, inheritance, abstract classes, polymorphism.</p></li>
<li><p>UML class diagrams to represent object-oriented design. Classes, generalizations, associations, dependencies.</p></li>
<li><p>Event-driven Graphical User Interface (GUI) programming. Event registration, listeners, handling events. Java Swing and AWT. Components and containers. Frames, dialogs, panels, layouts, colors, fonts, drawing, painting.</p></li>
<li><p>Model-View-Controller (MVC) design pattern. The Swing MVC architecture and working with data models.</p></li>
<li>State-based programming. State design pattern.</li>
<li><p>Iterative development - feature extension, code reuse, versioning, backward compatibility, object serialization.</p></li>
<li><p>Block-box unit testing. Boundary values. Equivalence Classes. Debugging in Eclipse.</p></li>
<li>Multithreading and synchronization on shared resources.</li>
<li><p>Developing Android apps in Eclipse. Device emulators. Structure of Android apps. Java source code, resources, manifest file, xml layout, density independent pixels.</p></li>
<li><p>App lifecycle, activities, passing information between activities. Layouts, views, widgets, menus, context menus, dialogs, inflating views from xml.</p></li>
<li>Implementing search with search bar. I/O. Icons and drawables.</li>
<li>Packaging an app for publishing to the Android Market.</li>
<li><p>Introduction to network programming. Java networking API. Client-server programming with TCP/IP sockets and server sockets.</p></li>
</ol></li>
<li>Grading
<ul>
<li>Recitation attendance: 50 (5%)</li>
<li>Homework assignments: 150 (15%)</li>
<li>Object-oriented GUI project: 300 (30%)</li>
<li>Android project: 200 (20%)</li>
<li>Quizzes: 100 (10%)</li>
<li>Final exam: 200 (20%)</li>
</ul></li>
</ul>
<h2 id="january-22nd-2012---lecture">January 22nd, 2012 - Lecture</h2>
<ul>
<li><p>Many things that you use when building a Java GUI, you'll be using widgets from Swing API.</p></li>
<li><p>With JButtons, the simplest way to have something in the button is tompass text to the constructor.</p></li>
<li><p>With JFrames, you want to display content in a certain arragement, using something called a layout manager.</p></li>
<li>With different LayoutManagers, you get different arrangments.</li>
<li>Other LayoutManagers include BorderLayout, GridLayout, ...</li>
<li>For any frame and any window, you can set a size.</li>
<li>Alyways set your frame to being visible.</li>
<li><p>For every button or widget that sets off an action, you're going to need an event listener.</p></li>
<li><p>Before Swing, there was AWT. And if you thought Swing was bad, well, AWT was worse.</p></li>
<li>ActionListeners are interfaces - a la Comparable, Iterable, etc ...</li>
<li><p>LayoutManagers can handle resizing of windows and other unexpected happenings.</p></li>
<li><p>If you set the location relative to <code>null</code>, then you get a centered window.</p></li>
</ul>
<h2 id="january-24th-2013---lecture">January 24th, 2013 - Lecture</h2>
<ul>
<li><code>ActionListener</code> is an interface - you need to define a class.</li>
<li><p>In the package <code>jwt.java.event</code>, <code>ActionListener</code> is a subclass of the subclass of all interfaces.</p></li>
<li><p>You will localize interface definitions if you will never need the code again, generalize it otherwise.</p></li>
<li><p>We defined another class called <code>ButtonListener</code> which is in the same source file as <code>FC.java</code>.</p></li>
<li><p>You can have multiple classes in the same source, but only one of them can be public.</p></li>
<li><p>If you define a class that implements an interface after an instantion, it is called an &quot;anonymous class.&quot;</p></li>
<li><p>Whenever you add a listener, it sets in motion a mechanism within Java to handle the action.</p></li>
<li><p>With <code>ActionListener</code>, all the information about the widget that the action was performed on is included.</p>
<ul>
<li>For example, you can get the text from a text button.</li>
</ul></li>
<li><p>If you add a class to listen to an action, it must implement <code>ActionPerformed(ActionEvent e)</code>.</p></li>
<li><p>If you have multiple classes defined in the same source code, and you want to import one of them, you'll need to <code>import [filename].[classname]</code>.</p></li>
<li><p>When you program in static, you working outside of the object oriented framework.</p></li>
<li><p>You are only limited to one public class when the classes are defined at the same level.</p></li>
<li>Java is meant to be platform independant.</li>
<li><p>An <code>Object</code> reference does not &quot;know&quot; what type of object it is.</p></li>
</ul>
<h2 id="january-28th-2013---recitation-1-gui-javadoc-inheritence">January 28th, 2013 - Recitation 1: GUI, Javadoc, Inheritence</h2>
<ol style="list-style-type: decimal">
<li><p>Write a program that creates a frame with two buttons on it: OK and Quit. When OK is clicked, nothing will happen. When Quit is clicked, the application will exit. The application window (frame) should be launched in the center of the screen, and should NOT be closed when the user clicks on the 'x' button in the title bar. (In other words, the only way to close the window is to click on the 'Quit' button.)</p>
<pre><code>package recitation;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JButton;
import javax.swing.JFrame;

public class OKQuit extends JFrame {

private JButton ok, quit;

public OKQuit() {
        ok = new JButton(&quot;OK&quot;);
        quit = new JButton(&quot;Quit&quot;);
        setLayout(new FlowLayout(FlowLayout.LEFT,15,15));
        add(ok);
        add(quit);

        quit.addActionListener(new ActionListener() {
                public void actionPerformed(ActionEvent e) {
                        System.exit(1);
                }
        });
}

/**
 * @param args
 */
public static void main(String[] args) {
        // TODO Auto-generated method stub
        OKQuit okquit = new OKQuit();
        okquit.setDefaultCloseOperation(DO_NOTHING_ON_CLOSE);
        okquit.setSize(200,80);
        okquit.setLocationRelativeTo(null);
        okquit.setVisible(true);
}
}</code></pre></li>
<li><p>Redesign the Fahrenheit-Celsius GUI we did in the first lecture to do away with the buttons to convert between F and C. Instead, when the user types something in one of the text fields, the converted value shows up immediately in the other. So your GUI looks like this:</p>
<pre><code>        Fahrenheit       Celsius
        ----------     ----------
       |          |   |          |
        ----------     ----------</code></pre>
<p>Also, give the frame a title (that appears in the title bar) and make the text right-aligned in both text fields (digits are displayed right to left). Read the documentation for JTextField in the Java API to see how to right-align text. You can register an action listener directly on a text field to receive an event when the user hits enter after entering text in the text field.</p>
<pre><code>    package recitation;
    import javax.swing.*;
    import java.awt.*;
    import java.awt.event.*;
    public class FCNoButtons extends JFrame {
        JLabel f,c;
        JTextField F,C;

        public FCNoButtons(String title) {
          super(title);
            f = new JLabel(&quot; Fahrenheit&quot;);
            c = new JLabel(&quot;   Celsius&quot;);
            F = new JTextField(5);
            C = new JTextField(5);
            F.setHorizontalAlignment(JTextField.RIGHT);
            C.setHorizontalAlignment(JTextField.RIGHT);

            setLayout(new FlowLayout(FlowLayout.LEFT, 15, 15));

            add(f);
            add(c);
            add(F);
            add(C);

        F.addActionListener(new ActionListener() { 
                public void actionPerformed(ActionEvent e) { 
                        float fval = Float.parseFloat(F.getText());
                        float cval = (fval-32)*5.0f/9.0f;
                        String cstr = String.format(&quot;%5.1f&quot;, cval);
                        C.setText(cstr);
                }
        });

        C.addActionListener(new ActionListener() { // anonymous class
                public void actionPerformed(ActionEvent e) { 
                        float cval = Float.parseFloat(C.getText());
                        float fval = 9.0f/5.0f*cval + 32f;
                        String fstr = String.format(&quot;%5.1f&quot;, fval);
                        F.setText(fstr);
                        }
                });
     }


    /**
    * @param args
     */
     public static void main(String[] args) {
                FCNoButtons fc = new FCNoButtons(&quot;F-C Converter&quot;);
                fc.setSize(200,120);
                fc.setResizable(false); 
                fc.setVisible(true);
                fc.setLocationRelativeTo(null);
                fc.setDefaultCloseOperation(EXIT_ON_CLOSE);
     }
        }</code></pre>
<ul>
<li>This problem requires only labels and text fields.</li>
<li>Think of this as a &quot;project description&quot;, a very simple one.</li>
<li>Give the frame a title.</li>
</ul></li>
<li>Documenting with Javadoc
<ul>
<li>Make a comment which begins with two stars</li>
<li><p>Then hit &quot;generate javadoc&quot; in Eclipse to create a generic website based on that information.</p></li>
<li><p>Can include fields such as <code>@see</code>, <code>@author</code>, <code>@version</code>, and <code>@since</code></p></li>
</ul></li>
<li><p>What is the output of this code? Why?</p>
<pre><code>   class GrandParent { }
   class Parent extends GrandParent{ }
   class Child extends Parent { }

   class Foo {
      public void bar(GrandParent p) {
         System.out.println(&quot;called with type GrandParent&quot;);
      }
     public void bar(Parent p) {
         System.out.println(&quot;called with type Parent&quot;);
      }
   }

   public class Test {
      public static void main(String[] args) {
         new Foo().bar(new Child());
    }</code></pre>
<p>The output is:</p>
<pre><code>    called with type Parent</code></pre>
<p>The method call matches the argument type (<code>Child</code>) with the closest matching parameter type (<code>Parent</code>). So the method <code>Foo.bar(Parent)</code> is called.</p></li>
</ol>
<h2 id="january-29th-2013---lecture">January 29th, 2013 - Lecture</h2>
<ul>
<li><p>It's one thing to write code that hacks through a GUI, it's wholly another to write an extensible, usuable GUI.</p></li>
<li>How can we write code that is easily extensible?</li>
<li><p>Inheritence simply means that the code you've written in the parent need not be rewritten.</p></li>
<li><p>You have to initialize the superclass portion first, and then then the subclass portion afterwards.</p></li>
<li>The constructors are not inherited.</li>
<li><p>The name of the constructor is taken from the name of the class, so they're not inherited.</p></li>
<li>Static vs. dynamic type
<ul>
<li><p>There is a difference between compile time and run time types.</p>
<pre><code>    Point p1 = new Point(2,3);</code></pre>
<ul>
<li>Compile time type: <code>Point p1</code></li>
<li><p>Run time type: <code>2,3</code></p>
<pre><code>Point p2 = new ColoredPoint(3,4,&quot;red&quot;);</code></pre></li>
<li>Compile time type: <code>Point p2</code></li>
<li><p>Run time type: <code>ColoredPoint 3,4,&quot;red&quot;</code></p></li>
</ul></li>
<li><p>Dynamic binding: at runtime, the actual method being called is bound to that call.</p></li>
<li>You can't initialize a child as a parent, and every parent</li>
<li><p>If an object is statically declared to be of a certain type, it can only calls those methods in that type.</p></li>
<li><p>However, at runtime, it can call whatever it is dynamically assigned to be.</p></li>
<li><p>Typecasting tells the compiler to ignore the declared type and use this &quot;typecast&quot; type instead. Example:</p>
<pre><code>(ColoredPoint)p2.getColor();</code></pre></li>
<li><p>Typecasting usually is indicative of not following design intent or having poor design.</p></li>
</ul></li>
<li>You cannot access private variables through the object.</li>
<li>A subclass inherits the subclasses private fields.</li>
<li><p>It's a beginner's mistake to write an <code>equals</code> method like this:</p>
<pre><code>public boolean equals (Point p) {
    return x == p.x &amp;&amp; y = p.y;
}</code></pre></li>
<li><p>Here's an instance where typecasting is fine, and a good <code>equals</code> method:</p>
<pre><code>public boolean equals (Object o) {
    if (o == null || !(o instanceof Point))
        return null;
    Point p = (Point) o;
    return x == p.x &amp;&amp; y = p.y;
}</code></pre></li>
<li>Writing code banking on equals being there
<ul>
<li>Because the <code>Object</code> class defines <code>equals</code>, you can indepentadly write code to compare two objects.</li>
</ul></li>
</ul>
<h3 id="announcements">Announcements</h3>
<ul>
<li>iclicker test quiz on Thursday</li>
<li>Quizzes in recitation will be &quot;design based.&quot;</li>
</ul>
<h2 id="january-31st-2013---lecture">January 31st, 2013 - Lecture</h2>
<ul>
<li><p>Dynamic binding happens when at runtime a certain method happens when a call is bound to a subclasses version.</p></li>
<li><p>A lot of times you'll do things with things with <code>static</code>. What <em>is</em> <code>static</code>?</p>
<ul>
<li><p>If you make something <code>static</code>, you're making it &quot;not object oriented.&quot;</p></li>
<li><code>static</code> is the non-OO portion of Java.</li>
<li><p>Say, for instance, you need a program that just repeats whatever is typed in?</p></li>
<li><p>You don't need an echo object for this – there's no object anywhere here.</p></li>
<li><p><code>Math.java</code>, for instance, is a <code>static</code> class, and it is what's called a &quot;utility&quot; class.</p></li>
</ul></li>
<li><code>static</code> variables
<ul>
<li><p>There are two static constant fields in <code>Math.java</code> – <code>E</code> and <code>PI</code>.</p></li>
<li><p>A classic example of a <code>static</code> non-<code>constant</code> variable is a counter that keeps track of how many objects are in existence.</p></li>
</ul></li>
<li><p><code>static</code> methods</p></li>
</ul>
<h2 id="february-4th-2013---recitation-2-inheritance-interfaces">February 4th, 2013 - Recitation 2: Inheritance, Interfaces</h2>
<ol style="list-style-type: decimal">
<li><p>Consider the following class definition:</p>
<pre><code>public class A {
   public A () {}
   public A (int a, int b) {}
}

public class B extends A {
     public B (int r) {}
     public B (int r, int w) { 
        super (r, w);
     }
}</code></pre>
Which of the following are legitimate calls to construct instances of the B class?
<ol style="list-style-type: decimal">
<li><code>B c = new B();</code>
<ul>
<li>Invalid - B does not have a no-arg constructor</li>
</ul></li>
<li><code>A s = new B(1);</code>
<ul>
<li>Valid</li>
</ul></li>
<li><code>B c = new B(1, 9);</code>
<ul>
<li>Valid</li>
</ul></li>
<li><code>A t = new B(1, 9, 4);</code>
<ul>
<li>No 3-argument constructor defined</li>
</ul></li>
<li><code>B t = (new B(1)).new B(1);</code>
<ul>
<li>gibberish</li>
</ul></li>
<li><code>B b = new A(1, 2);</code>
<ul>
<li>b is of static type B, and cannot refer to object of dynamic type A since A is not a subclass of B</li>
</ul></li>
</ol></li>
<li><p>In this exercise we will try to see how static and final methods work with inheritance.  Consider the two classes defined below, <code>Parent</code> and <code>Child</code>:</p>
<pre><code>public class Parent {
  /*
   public static final void printClassName() {
      System.out.println(&quot;I am in class Parent, static invocation.&quot;);
   }
  */

   public final void printName() {
      System.out.println(&quot;I am in class Parent, dynamic invocation.&quot;);
   }
}

public class Child extends Parent {
  /*
   public static void printClassName() {
      System.out.println(&quot;I am in class Child, static invocation.&quot;);
   }
  */

   public void printName() {
      System.out.println(&quot;I am in class Child, dynamic invocation.&quot;);
   }
}</code></pre>
<ol style="list-style-type: decimal">
<li>Compile both the classes.  What do you see?
<ul>
<li><p>Compiling the classes results in the Java compiler printing the following error message:</p>
<pre><code>1. ERROR in Child.java (at line 10)
public void printName()
            ^^^^^^^^^^^
Cannot override the final method from Parent</code></pre></li>
</ul></li>
<li><p>Now comment out the <code>printName()</code> method from the child class and uncomment the <code>printClassName()</code> method in both classes.  Compile both classes.  What do you see?  Is it different from part (A)?  Why?</p>
<ul>
<li><p>Compiling the classes results in the Java compiler printing the following error message:</p>
<pre><code>ERROR in Child.java (at line 3)
public static void printClassName()
                   ^^^^^^^^^^^^^^^^
Cannot override the final method from Parent</code></pre>
<p>It is different from part (A), but in essence it is the same error—trying to override a <code>final</code> method in a subclass.</p></li>
</ul></li>
<li><p>Uncomment the <code>Child.printName()</code> method and remove the <code>final</code> modifier from <code>Parent.printName()</code> and <code>Parent.printClassName()</code>.  Recompile both classes.</p>
<ul>
<li>It compiles successfully.</li>
</ul></li>
<li><p>Compile and run the following class:</p>
<pre><code>class App {
  public static void main(String[] args) {
     Parent p = new Child();
     p.printName();      // WHAT IS PRINTED?
     p.printClassName(); // WHAT IS PRINTED? 
  }
}</code></pre>
Explain the difference in <em>which</em> methods are invoked in these two method calls.
<ul>
<li>The <code>App.java</code> program compiles, but the compiler issues a warning because <code>printClassName()</code> should be invoked on the class, not on an instance.  The <code>printName()</code> call invokes the <code>Child</code> class's implementation because <code>p</code> refers to an instance of <code>Child</code>.  The <code>printClassName()</code> call invokes the <code>Parent</code> class's implementation because <code>p</code> is a reference of type <code>Parent</code></li>
</ul></li>
</ol></li>
<li><p>Suppose you design a class, <code>Set</code>, whose members behave like finite, unordered mathematical sets of integers, and can support the operations of membership query, union of two sets, intersection of two sets, and difference of two sets. Consider the intersection operation.  There are at least two ways of declaring such an operation in the class <code>Set</code>:</p>
<pre><code>public Set intersect(Set otherSet)</code></pre>
<p>or</p>
<pre><code>public static Set intersect(Set firstSet, Set secondSet)</code></pre>
Give one pro and one con for the static version.
<ul>
<li>The static version of the method is semantically closer to the mathematical idea of set operations. The static approach makes it clear to programmers that the intersect method is a symmetric operation. The drawback of a static definition is that it cannot be overridden by subclasses if we wanted to extend the Set class and apply polymorphism.</li>
</ul></li>
<li><p>You know of the <code>java.lang.Comparable&lt;T&gt;</code> interface used for comparing objects of a class. The <code>java.util</code> package has an interface, <code>Comparator&lt;T&gt;</code> that may also be used to compare objects. What is the difference between these two interfaces, and how may this difference be usefully employed in applications?</p>
<p>Here's an example of a simplified user-defined type:</p>
<pre><code>public class Customer {
  private String firstName;
  private String middleName;
  private String lastName;

  // setter &amp; getter methods..
}</code></pre>
<p>In the above class, the most commonly <em>natural ordering</em> would be by <code>lastName</code>. This can easily be implemented using the <code>Comparable</code> interface, i.e.</p>
<pre><code>public class Customer implements Comparable {
  // as shown previously..

  public int compareTo (Object o) {
    if (o == null || !(o instanceof Customer)) {
      throw new IllegalArgumentException (&quot;...&quot;);
    }
    Customer c = (Customer) o;
    String cLastName = c.getLastName();

    if (lastName == null &amp;&amp; cLastName == null) return 0;
    // assuming you want null values shown last
    if (lastName != null &amp;&amp; cLastName == null) return -1;
    if (lastName == null &amp;&amp; cLastName != null) return 1;
    return lastName.compareTo (cLastName);
  }
}</code></pre>
<p>Sorting a <code>List</code> of <code>Customer</code> objects would be as simple as:</p>
<pre><code>  Collections.sort (customerList);</code></pre>
<p>But, if we want to use a different ordering, e.g. order by the first name, then we cannot use the natural ordering as defined within the <code>Customer</code> class. Instead, we have to define an alternative ordering, in the form of a <code>Comparator</code> class.</p>
<pre><code>public class CustomerFirstNameComparator
implements Comparator {
  // use singleton whenever possible..

  public int compare (Object o1, Object o2) {
    if (o1 == null &amp;&amp; o2 == null) return 0;
    // assuming you want null values shown last
    if (o1 != null &amp;&amp; o2 == null) return -1;
    if (o1 == null &amp;&amp; o2 != null) return 1;
    if (!(o1 instanceof Customer) ||
        !(o2 instanceof Customer)) {
      throw new IllegalArgumentException (&quot;...&quot;);
    }

    Customer c1 = (Customer) o1;
    Customer c2 = (Customer) o2;
    String firstName1 = c1.getFirstName();
    String firstName2 = c2.getFirstName();

    if (firstName1 == null &amp;&amp; firstName2 == null) return 0;
    // assuming you want null values shown last
    if (firstName1 != null &amp;&amp; firstName2 == null) return -1;
    if (firstName1 == null &amp;&amp; firstName2 != null) return 1;
    return firstName1.compareTo (firstName2);
  }
}</code></pre>
<p>Sorting a <code>List</code> of <code>Customer</code> objects by their first name, would be:</p>
<pre><code>  // assuming you implement singleton..
  Comparator comparator =
    CustomerFirstNameComparator.getInstance();

  Collections.sort (customerList, comparator);</code></pre></li>
<li><p>Suppose we need to have the <code>Point</code> and <code>ColoredPoint</code> classes provide functionality to parse text representations of points and colored points (as would be returned by the <code>toString</code> method), and return <code>Point</code> and <code>ColoredPoint</code> objects, respectively.</p>
<ol style="list-style-type: decimal">
<li><p>Show how you would implement this functionality. In <code>Point</code> class:</p>
<pre><code>   public static Point parsePoint(String pointStr) {
      String[] tokens = pointStr.split(&quot;,&quot;);
      if (tokens.length != 2) {
         throw new IllegalArgumentException();
      }
      try {
         int x = Integer.parseInt(tokens[0]);
         int y = Integer.parseInt(tokens[1]);
         return new Point(x,y);
      } catch (Exception e) {
         throw new IllegalArgumentException();
      }
   }</code></pre></li>
</ol>
<p>In <code>ColoredPoint</code> class:</p>
<pre><code>   public static ColoredPoint parsePoint(String pointStr) {
      String[] tokens = pointStr.split(&quot;,&quot;);
      if (tokens.length != 3) {
         throw new IllegalArgumentException();
      }
      try {
         int x = Integer.parseInt(tokens[0]);
         int y = Integer.parseInt(tokens[1]);
         return new ColoredPoint(x,y,tokens[2]);
      } catch (Exception e) {
         throw new IllegalArgumentException();
      }
   }</code></pre>
<ol style="list-style-type: decimal">
<li><p>How much of the <code>Point</code> implementation of this functionality is reused in <code>ColoredPoint</code>? (Reuse meaning using code from <code>Point</code> by calling on it in <code>ColoredPoint</code>.) If yes, indicate which part, else explain why not.</p>
<ul>
<li>No code is reused. The only way to reuse code in <code>ColoredPoint.parsePoint</code> would be with a call to <code>Point.parsePoint</code>. However, the latter returns a <code>Point</code> object, which would not fit in the former's implementation because it has no use for a <code>Point</code> object. (The idea of reuse arises because parsing a colored point equals parsing a point, plus parsing the color part.)</li>
</ul></li>
<li><p>Does your implementation give rise to dynamic binding of the parsing functionality? (Recall that dynamic binding means the subclass version of a method is &quot;bound&quot; to the call made via an object reference that is statically typed to the superclass.)</p>
<ul>
<li><p>No, there is no dynamic binding since the methods involved are both <code>static</code>. So, binding is done purely on the static/compile-time type of the reference variable, without regard to what object it is pointing to. This means if you have:</p>
<pre><code>Point ptest = new ColoredPoint(3,4,&quot;orange&quot;);</code></pre></li>
</ul>
<p>then a call such as <code>ptest.parsePoint(...)</code> would invoke the <code>Point</code> class' <code>parsePoint</code> method, not the <code>ColoredPoint</code>'s.</p></li>
</ol></li>
<li><p>Here's the <code>Widget</code> class that was used in lecture last Thursday:</p>
<pre><code>public class Widget {
 protected float mass;  // not visible to clients, but inherited by subclass

 private static float MAX_MASS = 20;

 public static final float G = 9.81f;    

 public Widget(float mass) {
    if (mass &gt; MAX_MASS) {
       throw new IllegalArgumentException();
    }
    this.mass = mass;
 }

 public static float getMaxMass() {
    return MAX_MASS;
 }

 public float getWeight() {
    return mass*G;
 }
}</code></pre>
<p>Now suppose there is a certain set of widgets that are &quot;heavy&quot;, so their maximum mass is 40 instead of the usual 20. Write a class called <code>HeavyWidget</code>, as a subclass of <code>Widget</code>. Do you encounter any implementation issues when you do this? Can you get around these issues? If so, show how. If not, explain why.</p>
<ul>
<li><p>Here's the try to implement <code>HeavyWeight</code>:</p>
<pre><code>public class HeavyWidget extends Widget {

   private static float MAX_MASS = 40;

   public HeavyWidget(float mass) {
       super(mass);
       if (mass &gt; MAX_MASS) {
          throw new IllegalArgumentException();
       }
       this.mass = mass;
   }
   ...</code></pre>
<p>The problem is the call <code>super(mass)</code> in the constructor. This call needs to be made because the first statement in a subclass constructor must be a call to a superclass constructor. Since there is only one constructor in the superclass <code>Widget</code>, which accepts a float parameter, we have no choice but to write in the <code>super(mass)</code> call. However, the <code>Widget</code> constructor would throw an exception if the mass exceeds 20, even though <code>HeavyWeight</code> allows mass to be as much as 40. So this is an issue. We can try to get around the issue by putting in a try-catch like this:</p>
<pre><code>public HeavyWidget(float mass) {
   try {
     super(mass);
   } catch (IllegalArgumentException e) {

   }
   if (mass &gt; MAX_MASS) {
      throw new IllegalArgumentException();
   }
   this.mass = mass;
}</code></pre>
<p>But this does not compile because <code>try</code> is now taken to be the first statement, which makes the compiler throw in a <code>super()</code> call <em>before</em> the <code>try</code>. And the compiler complains that there isn't a no-arg constructor in the <code>Widget</code> class. Also, it complains that the <code>super(mass)</code> statement is not the first statement. This issue--for which there isn't any sensible workaround--suggests that there may be some flaw in the design. In particular, making <code>HeavyWidget</code> a subclass of <code>Widget</code> means that EVERY heavy widget is a widget. (Along the lines of every student is a person, or every tiger is an animal). But is this true? If it were true, then EVERY heavy widget must pass the widget test. Which won't happen for all heavy widgets that have mass greater than 20. So it must be that every heavy widget is NOT a widget. So then is it true that EVERY widget is a heavy widget? In other words, if you were to flip the implementation so that <code>Widget</code> is a subclass of <code>HeavyWidget</code>, could you come up with clean code that works? If so, then there is a discord between how our everday phrasing in English, and Java implementation.</p></li>
</ul></li>
</ol>
<h2 id="february-6th-2013---lecture">February 6th, 2013 - Lecture</h2>
<ul>
<li><p>When you make UI, the first thing you should do is draw the mockup, every window, every scheme.</p></li>
<li>This way you fine tune the UI before you write code.</li>
<li><p>When you have more complex layouts, you need the <code>JPanel</code> class to put in your <code>JFrame</code>.</p></li>
<li>A <code>JPanel</code> goes into a top level <code>JFrame</code>.</li>
<li>Generally, you should not allow the user to make mistakes.</li>
<li>For our project, we will have to make a storyboard.</li>
<li>You can use Eclipse to make a <code>JPanel</code> visually.</li>
<li>It doesn't do this as well as Xcode. Nowhere near.</li>
<li><code>Color</code> is a class in <code>awt</code>.</li>
<li>You can make your own colors.
<ul>
<li>You can set themesee in</li>
</ul></li>
<li><code>setEditable(boolean)</code> makes a panel read only (to the user).</li>
<li><p><code>setForeground(Color)</code> and <code>setBackground(Color)</code> set the color of the interface.</p></li>
<li><code>setFont(Font)</code> ... sets the font ...</li>
<li><p>A text field can have its horitniztonal alignment set with <code>setHorizontalAlignment()</code></p></li>
<li>A <code>GridLayout</code> creates ... a grid for you to put UI elements in.</li>
<li><p>The difference between default and no argument constructors is that the compiler gives you no argument for free.</p></li>
<li>Make sure to always to ... <code>setVisible(boolean)</code></li>
<li><p><code>pack()</code> will make your <code>JFrame</code> as small as possible given your UI elements.</p></li>
<li><p><code>protected</code> makes the scope of a variable visible to every class in the same package and any subclasses.</p></li>
</ul>
<h2 id="february-7th-2013---lecture-gridbaglayout">February 7th, 2013 - Lecture: GridBagLayout</h2>
<ul>
<li>Example
<ul>
<li><p>Fours buttons are added to a fram, constraints are all default values. On enlarging the fram, notice how the buttons <em>maintain their sizes</em> and stay centered within the container.</p></li>
<li><code>gridx</code> and <code>gridy</code>
<ul>
<li><p>leftmost colum has <code>gridx = 0</code> and topmost row has <code>gridy= 0</code></p></li>
<li><p>Defult value is <code>GridBagConstraints.RELATIVE</code> - component is placed to the right of (if <code>gridx</code>) or in the row immediately below,</p></li>
</ul></li>
<li><p><code>gridwidth</code> and <code>gridheight</code> * Number of columns and row in the compnents display area. * Note: Component may r5dftnot always fill its desplay area. * Default value is one.</p></li>
</ul></li>
</ul>
<h2 id="february-7th-2013---assignment-1-song-library-gui-design-and-implementation">February 7th, 2013 - Assignment 1: Song Library GUI Design and Implementation</h2>
<h3 id="description-1">Description</h3>
<p>Design and implement an application with a graphical user interface to add and display a library of songs. No two songs should have the same name and artist (case insensitive match.) Your application should have a SINGLE FRAME with three interfaces:</p>
<ul>
<li><p>A song list interface, with the ability to select ONE song from the list. The list will only display the names of the songs</p></li>
<li><p>A song detail interface, with name, artist, album, and year, of the song that is selected in the song list area.</p></li>
<li><p>An add/delete/edit interface, for adding new songs, deleting selected song, and editing selected song information:</p>
<ul>
<li><p>When adding a new song, the song name and artist should be entered at the very least. Year and album are optional.</p></li>
<li><p>For editing, any of the fields can be changed.</p></li>
</ul></li>
</ul>
<p>There should be NO other windows in your application. While these three interfaces should be easy to interpret and access, they need not necessarily be three distinct containers. It is completely up to you as to how you want to best design the interface, but you will be responsible for making it clear and complete in functionality. (More below.)</p>
<p>When your program is started, it should show the current list of songs in the library, in the song list area, with the first song selected by default. (The first time the program is run, there should be nothing in the display, of course.)</p>
<p>The data should be persistent across different sessions of your program. You can save the song list in a file in whatever format you like, and then read it into your program when it starts up.</p>
<p>Your application is NOT required to play a song when it is selected.</p>
<p>The application frame should be resizable, and should appropriately resize/not resize the constituent areas, according to what you think would be best for the user experience.</p>
<p>Many of the aspects of design (frames, panels, layouts) and implementation (event handling) you need to do this assignment have been covered in class. However, you may need to add other aspects from Swing/AWT, and you are expected to discover these for yourself. You may find these links useful:</p>
<ul>
<li><a href="http://docs.oracle.com/javase/tutorial/uiswing/components/componentlist.html">How to Use Various</a></li>
<li><a href="http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html">A Visual Guide to Layout</a></li>
</ul>
<h3 id="grading">Grading</h3>
<pre><code>GUI Component           Points
Song list+selection     8
Details display         7
Add/Delete/Edit         20
Persistence             5</code></pre>
<p>(No Javadoc documentation needed, save for the <span class="citation">@author</span> tag - see Submission Instructions below.) For the first three components, the grade will be depend on correctness and compleletness of functionality, as well as effective/appropriate use of Swing/AWT widgets. For the last part (persistence), grading is on correctness, and on ensuring this is transparent to the user, i.e. the user should not have to be concerned with where and how the song list is stored between sessions.</p>
<p>Effective/appropriate means the UI should be clear, the user should know exactly what to expect when events are triggered, the user should know exactly what to do to achieve their objective. If you need to explain to someone how to use the interface, then it's not a good enough interface.</p>
<p>Along these lines, your UI should not use widgets that are an overkill for the task at hand because if a complex widget is used for a simple task, it will confuse the user. (So, for instance, do NOT use a JTable to show song details because the specification does not require you to arrange/rearrange details in any particular order, or be able to sort on any particular aspect of the details.)</p>
<p>Finally, your UI is not required to be aesthetically pleasing (no points for this because it's highly subjective), but you can certainly try to impress us with your creativity (just for the heck of it!) as long as it does not get in the way of functionality.</p>
<h3 id="submission-instructions">Submission Instructions</h3>
<p>Call your main class SongLib (If you don't do this we will have to first find which of your classes has the main method so we can run your program. Points will be deducted!)</p>
<p>Make sure you add the Javadoc <span class="citation">@author</span> tag with your name to all the classes you implement. No other Javadoc comments are required.</p>
<p>Export your project to a zip file called songlib.zip Make sure you have done this correctly by importing it back as a project into Eclipse (points will be deducted if we get a zip file that is not legit).</p>
<p>Submit your songlib.zip file.</p>
<p><a href="https://github.com/PLJNS/Rutgers-Soft-Meth-Spring-2013/tree/master/Song%20Library/src/songLibrary">Source</a></p>
<h2 id="february-11th-2013---recitation-3-tokenizing-gridbaglayout-interfaces">February 11th, 2013 - Recitation 3: Tokenizing, GridBagLayout, Interfaces</h2>
<ol style="list-style-type: decimal">
<li><p>Write a program to accept a string and extract tokens from it. A token (string) is any sequence of non-whitespace characters, unless it is enclosed in double quotes, in which case everything inside double quotes (including whitespaces if any) is a token.</p></li>
<li><p>Create a GUI application using a GridBagLayout. There should be 4 buttons (one each for north, south, east, and west). Each button should have a visible amount of spacing between itself and other components. At the center of the application create a label. This label's text should initially read &quot;default.&quot; When one of the buttons is pressed, the label's text should read one of north, south, east, or west as appropriate. When the window is resized, the buttons should continue to hug the borders, and the label should continue to be centered.</p>
<pre><code>package rec3;

import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Insets;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;

public class GridBagLayoutExample extends JFrame {

JButton[] buttons = {
   new JButton(&quot;North&quot;),
   new JButton(&quot;West&quot;),
   null,
   new JButton(&quot;East&quot;),
   new JButton(&quot;South&quot;)
};

public static final int[] widths = 
{GridBagConstraints.REMAINDER,1,1,GridBagConstraints.REMAINDER,GridBagConstraints.REMAINDER};

GridBagLayout gb = new GridBagLayout();
GridBagConstraints gbc = new GridBagConstraints();

ActionListener al = new ButtonListener();

JLabel label = new JLabel(&quot;Default&quot;);

public GridBagLayoutExample(String title) {
   super(title);
   setLayout(gb);
   for (int i=0; i &lt; buttons.length; i++) {
    addComponent(i);
   }
}

protected void addComponent(int i) {
    gbc.gridwidth = widths[i];
    if (buttons[i] != null) {
      gb.setConstraints(buttons[i], gbc);
      add(buttons[i]);
      buttons[i].addActionListener(al);
    } else {
      gbc.weightx = 1;
      gbc.weighty = 1;
      gbc.insets = new Insets(20,20,20,20);
      gb.setConstraints(label, gbc);
      add(label);
      gbc.weightx = 0;
      gbc.weighty = 0;
      gbc.insets = new Insets(0,0,0,0);
    }
}

protected class ButtonListener implements ActionListener {
    public void actionPerformed(ActionEvent e) {
      label.setText(e.getActionCommand());
    }
}

public static void main(String[] args) {
  // TODO Auto-generated method stub
  JFrame gbex = new GridBagLayoutExample(&quot;GridBagLayouExample&quot;);
  gbex.setDefaultCloseOperation(EXIT_ON_CLOSE);
  gbex.setLocationRelativeTo(null);
  gbex.pack();
  gbex.setVisible(true);
}
}</code></pre></li>
<li><p>Suppose you built a Java library of sorting algorithms: insertion sort, quicksort, and heapsort. You want to sell this library. How would you package your library so users could use any of these algorithms in their applications, and switch from using one to another (plug-n-play) with the least amount of code rewrite? Come up with the most appropriate design.</p>
<ul>
<li>Write an interface called <code>SortingAlgorithm</code> with one or more methods called <code>sort</code>, and then write various sorting classes for the different sorting algorithms, that implement the <code>SortingAlgorithm</code> interface.</li>
</ul></li>
<li><p>Examine the following classes, then answer the questions below.</p>
<pre><code>public class Thing implements Comparable &lt;Thing&gt; {
    int a; 
    Thing() {
        a = getThingValue(); // assume getThingValue() is properly implemented.
    }

        public int compareTo(Thing x) {
        return -1; 
            // assume this return value is correct for part (a)
            // implement a proper return value for part (b)
    }
}

public class Contraption extends Thing implements Comparable&lt;Contraption&gt; {

    int b; 

    Contraption() {
        super();
        b = getContraptionValue(); // assume getContraptionValue() is properly implemented.
    }

     public int compareTo(Thing x) {
              return 1;
        // assume this return value is correct for part (a)
        // implement a proper return value for part (b)
         }
}</code></pre>
<ol style="list-style-type: decimal">
<li><p>As implemented above, these classes contain an error which will prevent them from compiling. Find and describe the error. Note that you should assume getThingValue() and getContraptionValue() are properly implemented. Do not change the compareTo() methods for this part.</p>
<ul>
<li><p>Attempting to implement <code>Comparable</code> interface twice with different generic types. Not possible.</p></li>
<li><p>The problem encountered at compilation time is that <code>Comparable&lt; &gt;</code> has been implemented twice for the <code>Contraption</code>. Because <code>Contraption</code> extends <code>Thing</code>, it also implements the interfaces that <code>Thing</code> implements, i.e. <code>Comparable&lt;Thing&gt;</code>. So <code>Contraption</code> implements <code>Comparable&lt;Thing&gt;</code> due to inheritance. But the explicit declaration that <code>Contraption</code> implements <code>Comparable&lt;Contraption&gt;</code> conflicts with the <code>Comparable&lt;Thing&gt;</code> implementation. Java will only allow one implementation of <code>Comparable&lt;someType&gt;</code>. This is true for any interface: SomeInterface can only be implemented once regardless of what is.</p></li>
</ul></li>
<li><p>Re-implement the two classes so that two instantiations of Contraption can be compared via one of their compareTo methods. You will need to fully implement the two compareTo methods, however you may not change either compareTo methods' signature. Be sure to i) remove the compareTo methods' current return values and ii) correct the error from part (a). Assume that getThingValue() and getContraptionValue() are properly implemented. Use the following ordering rules for implementing the compareTo functions:</p>
<ul>
<li>Comparing two instantiations of Thing:
<ul>
<li>Compare the &quot;a&quot; values. Return -1, 0, or 1 as appropriate for a compareTo function.</li>
</ul></li>
<li><p>Compare the &quot;a&quot; values. Return -1, 0, or 1 as appropriate for a compareTo function.</p></li>
<li><p>Comparing two instantiations of Contraption: A Contraption's &quot;a&quot; value has a higher precedence than its &quot;b&quot; value. First compare the &quot;a&quot; values. If possible, return either -1 or 1. If an ordering cannot be established using only &quot;a&quot; values, compare the &quot;b&quot; values. This function should return -1, 0, or 1 as appropriate for a compareTo function.</p>
<ul>
<li>A Contraption's &quot;a&quot; value has a higher precedence than its &quot;b&quot; value.</li>
</ul></li>
</ul></li>
<li><p>Which classes' compareTo method will line 3 of the following code execute? Why?</p>
<pre><code>Thing myThing = new Thing();
Contraption myContraption = new Contraption();
int result = myThing.compareTo(myContraption);
System.out.println(result);</code></pre>
<p>Line 3 will call <code>Thing</code>'s <code>compareTo()</code> method. The static type of <code>myThing</code> is <code>Thing</code>, and so is the dynamic type. The argument type, <code>Contraption</code> will match the <code>Thing</code> parameters since <code>Contraption</code> is a subclass of <code>Thing</code>, i.e. all <code>Contraption</code> objects are <code>Thing</code> objects.</p></li>
</ol></li>
</ol>
<h2 id="february-12th-2013---lecture-interfaces">February 12th, 2013 - Lecture: Interfaces</h2>
<h3 id="using-interfaces">Using interfaces</h3>
<ul>
<li><p>Take a stack, for instance</p>
<pre><code>public class Stack&lt;T&gt; {
    private ArrayList&lt;T&gt; items;
    public Stack() { ... }
    public void push (T t) { ... }
    ....
}</code></pre></li>
<li><p>Look at this alternate code:</p>
<pre><code>public class LLStack&lt;T&gt; {
    private ArrayList&lt;T&gt; items;
    public Stack() { ... }
    public void llpush (T t) { ... }
    ....
}</code></pre>
<ul>
<li>Had this been production code, and you go from using <code>Stack</code> to <code>LLStack</code>, the client has to do a lot of work to convert everything from one to the other.</li>
</ul></li>
<li><p>Solution:</p>
<pre><code>public interface Stack&lt;T&gt; {
    void push(T t);
    T pop();
    ...
}</code></pre></li>
<li><p>And:</p>
<pre><code>public class ALStack&lt;T&gt; implements Stack&lt;T&gt;
    private ArrayList&lt;T&gt; items;
    public ALStack() {...}
    public void push (T t) { ... }
    public T pop();</code></pre>
<ul>
<li>This allows for plug and play.</li>
</ul></li>
</ul>
<h3 id="interface-and-polymorophism">Interface and Polymorophism</h3>
<pre><code>    public class Point {
        int x,y;
        ...
        public String toString() {
            return x + &quot; &quot; + y;
        }
    }

    public class ColoredPoint extends Point {
        String color;
        ...
        public String toString() {
            return x + &quot; &quot; + y + &quot; &quot; + color;
        }
    }

    // in some main method

    Point[] pts = new Point[n ]
    pts[0] = new Point(2, 3);
    pts[1] = new ColoredPoint(3,4,&quot;red&quot;);
    ...

    for (int i = 0; i &lt; pts.length; i++) {
        System.out.println(pts[i].toString());
    }</code></pre>
<h2 id="february-14th-2013---project-part-1-photo-album-design-and-implementation-i">February 14th, 2013 - Project Part 1: Photo Album (Design and Implementation I)</h2>
<h3 id="the-model-view-controller-mvc-architecture">The Model-View-Controller (MVC) Architecture</h3>
<p>For this first part of the project, your team will create the model and control parts of a <strong>Model-View-Control</strong> architecture for a **Photo Album** application.</p>
<p>A system using the MVC architecture has three main components:</p>
<ul>
<li><strong>Model</strong> - The representation and management of the systems data</li>
<li><strong>View</strong> - The user's interface to the system</li>
<li><strong>Control</strong> - The algorithmic logic, decision making and data manipulation processes</li>
</ul>
<p>Breaking up a system into these three components is beneficial for a number of reasons. The most obvious reason is for modularity. Properly coded, a system using MVC should be able to change the way any of the components is implemented without breaking the others. For instance, the model could store data in flat files. Later, if there is a reason to move to a database storage scheme, then the model can be reimplemented, but the view and controller can be left untouched, **if the model had been implemented to an interface, and the view and controller interacted with the model solely through this interface**. (Here the word &quot;interface&quot; is used to refer broadly to one or more interfaces.)</p>
<p>Another motivation for using the MVC architecture is ease of testing. If the model talks to the control and view only through a known interface, the invocations of that interface can be scripted to run a set of diagnostics, isolating any problems with data the tester is seeing either in or out of the model.</p>
<p>For this first part, you will be writing a &quot;simple&quot; text-based view that is operated from the command line for the purpose of bug testing the control and model components. Assuming this first part is done correctly, the text-based view can be plugged out and a graphical user interface plugged in without wondering if the weird text that is being displayed on the screen comes from the model (it doesn't, you tested that in the first part) or some nuance of object references in the view.</p>
<p><strong>IMPORTANT</strong>:</p>
<p>In your implementation, the <strong>control</strong> should connect the <strong>view</strong> to the <strong>model</strong>. The only parts of the <strong>model</strong> that the <strong>view</strong> may interact with are the ones which get or set data without any manipulation. (For example, getting the view can directly get the id of a user from the model, and display it. But things such as sorting a list of users should be done in the control.)</p>
<h3 id="project-structure">Project Structure</h3>
<ul>
<li><p>Name your project <code>PhotoAlbumXX</code>, where XX is the two digit group number (ie 1 becomes 01).</p></li>
<li><p>The <strong>model</strong> component should be in its own package <code>cs213.photoAlbum.model</code></p></li>
<li><p>The simple command line <strong>view</strong> client should be in the package <code>cs213.photoAlbum.simpleview</code> and have a main class <code>CmdView</code></p></li>
<li>The <strong>control</strong> should be in package <code>cs213.photoAlbum.control</code></li>
<li><p>Any utility classes shared by the MVC components can go in the package <code>cs213.photoAlbum.util</code></p></li>
<li><p>Data (users, albums, information about the photos except the actual files) should be stored in a folder called <code>data</code> directly under the <code>PhotoAlbumXX</code> folder. (The actual photos can be anywhere in the local filesystem.)</p></li>
<li><p>All documentation (PDFS, HTMLs) should be in a folder called <code>docs</code> directly under the <code>PhotoAlbumXX</code> folder.</p></li>
</ul>
<p>NOTE: In Eclipse, create packages with the complete name, such as <code>cs213.photoAlbum.model</code>. DO NOT separate this into a 3-package hierarchy. It should show up as a single package &quot;folder&quot; in the Eclipse package explorer view, but when you look at the directory structure in your computer's filesystem, you will see that it has been automatically expanded into the hierarchy <code>cs213 --&gt; photoAlbum --&gt; model</code></p>
<h3 id="model">Model</h3>
<p>The model has four main components: photo, album, user, and a backend. The photo, album, and user objects are simply data containers.</p>
<h4 id="photo-specification">Photo specification</h4>
<ul>
<li>A unique (per user) file name.</li>
<li>A caption</li>
<li><p>A <code>java.util.Calendar</code> instance for the date and time the photo was taken/file was created<br /> <strong>Note:</strong> When you set a date and time in a <code>Calendar</code> instance, also make sure you set milliseconds to zero, as in:</p>
<pre><code>     cal.set(Calendar.MILLISECOND,0);</code></pre>
<p>Otherwise your equality checks won't work correctly.</p></li>
<li><p>List of different tags:</p>
<ul>
<li>Location of where the photo was taken (unspecified or one)</li>
<li>Names of the people in the photo (zero or more)</li>
<li>Other tags, as you may see fit</li>
</ul>
<p><strong>Note</strong>: A tag is a combination of tag type and tag value, e.g. (&quot;location&quot;,&quot;New Brunswick&quot;), and each tag (type, value pair) for a photo is unique. For instance, the people who appear in a photo will appear in multiple tags, one tag per person. However, you can't have two tags with the same person tag type and same person name value.</p></li>
<li><p>Functionality to edit the attributes of the photo</p></li>
</ul>
<h4 id="album-specification">Album specification</h4>
<ul>
<li>A unique (per user) album name</li>
<li>Zero or more photos</li>
<li>Functionality to add and delete photos to/from albums, and to recaption photos</li>
</ul>
<p><strong>Note</strong>: A photo may appear in multiple albums of a user.</p>
<h4 id="user-specification">User specification</h4>
<ul>
<li>The user's unique ID (string, used to log in)</li>
<li>The user's full name</li>
<li>The user's albums, stored efficiently</li>
<li>Functionality to add, delete and rename albums</li>
</ul>
<h4 id="backend-specification">Backend specification</h4>
<p>The backend refers to functionality that will allow for the storage and retrieval from the <code>data</code> directory, and the photo files pointed to by file name information in the data directory. (See <a href="#structure">Project</a>). The backend functionality includes:</p>
<ul>
<li><p>Read a user (including all constituent user data, see **User Specification** above) identified by user ID from storage into memory</p></li>
<li><p>Write a user (including all constituent user data) to storage from memory</p></li>
<li>Delete a user, identified by user ID</li>
<li><p>Get a list of existing users, identified by user IDs</p></li>
</ul>
<h4 id="model-versions">Model Versions</h4>
<p>Different version of the model may be used, depending on whether and at what time state changes in the user/photo data are written to disk. Here are two contrasting models:</p>
<ul>
<li><p><strong>Session Persistence</strong>: This model does not store anything to disk when the program is running, but stores all data when the program terminates. Every program run is a session. When a session starts up, data from the previous session is read from disk - this is the start state. This model version is sufficient for a single-user mode where users cannot see each other's albums.</p></li>
<li><p><strong>Write Persistence</strong>: This model stores state changes to disk every time a command that updates the state is executed, i.e. the state change is a &quot;write&quot;. For instance, if a user adds a photo, the new photo information will be immediately written to disk. That is, at any time, the user/photo data on disk would be a copy of the corresponding data in memory. (As in the session persistence model, when a session starts up, data resulting from the previous session is read from disk.) This version is required for a program that runs in multi-user mode, where users can see each other's albums (think of a web-based shared photo album such as Flickr).</p></li>
<li><p><strong>Your Model Version Implementation</strong></p>
<p>For your project, you will need to implement <strong>session persistence</strong> only.</p>
<p>You <strong>are required</strong> to use the java.io.Serializable interface, and the java.io.ObjectOutputStream java.io.ObjectInputStream classes to store and retrieve data.</p>
<p>Although you are only required to implement one model (flat file, session persistence), part of the credit will be based on how easy it would be to replace session persistence with a different model version. Use interfaces to make swapping different model implementations easy (plug-n-play, interface polymorphism), with minimal change to the other parts (view/control) of the program. See the <a href="#api">API Driven Coding</a> section for more information.</p></li>
</ul>
<h3 id="view">View</h3>
<p>For this first stage of the project, you will implement a simple text-based view with two modes of input - a command line mode, and an interactive mode.</p>
<h4 id="command-line-mode">Command Line Mode</h4>
<ul>
<li><p>To list existing users:</p>
<pre><code>java cs213.photoAlbum.simpleview.CmdView listusers

Output:
    &lt;userId1&gt;
    &lt;userId2&gt;
    ...
Or: 
    no users exist</code></pre></li>
<li><p>To add a new user:</p>
<pre><code>java cs213.photoAlbum.simpleview.CmdView adduser &lt;user id&gt; &lt;user name&gt;

Output: 
    created user &lt;user id&gt; with name &lt;user name&gt;
Or: 
    user &lt;user id&gt; already exists with name &lt;user name&gt;</code></pre></li>
<li><p>To delete a user:</p>
<pre><code>java cs213.photoAlbum.simpleview.CmdView deleteuser &lt;user id&gt;

Output:
    deleted user &lt;user id&gt;
Or:
    user &lt;user id&gt; does not exist </code></pre></li>
<li><p>To login as an existing user:</p>
<pre><code>java cs213.photoAlbum.simpleview.CmdView login &lt;user id&gt;` 
    (*view now goes into interactive mode*) 
Or: 
    user &lt;user id&gt; does not exist `</code></pre></li>
</ul>
<p><strong>Note</strong>: You can run these from inside Eclipse by changing the program arguments every time (See the Eclipse page for how to set program arguments). However, this can get cumbersome. Instead, you can work in a command window/shell, by going to the bin directory inside the project, and running the <strong>java</strong> command from there.</p>
<h4 id="interactive-mode">Interactive Mode</h4>
<ul>
<li><p>To create an album:</p>
<pre><code>createAlbum &quot;&lt;name&gt;&quot;

Output: 
    created album for user &lt;user id&gt;: 
    &lt;name&gt;
Or: 
    album exists for user &lt;user id&gt;: 
    &lt;name&gt;</code></pre></li>
<li><p>To delete an album:</p>
<pre><code>deleteAlbum &quot;&lt;name&gt;&quot;

Output:
    deleted album from user &lt;user id&gt;:
    &lt;name&gt;
Or: 
    album does not exist for user &lt;user id&gt;: 
    &lt;name&gt;</code></pre></li>
<li><p>To list all albums, with their number of photos and the range of dates that the photos were taken:</p>
<pre><code>listAlbums

Output:
    Albums for user &lt;user id&gt;: 
    &lt;name&gt; number of photos: &lt;numberOfPhotos&gt;,  &lt;start date&gt; - &lt;end date&gt;`
    ... 
Or:
    No albums exist for user &lt;user id&gt;</code></pre></li>
<li><p>To list the photos in an album:</p>
<pre><code>listPhotos &quot;&lt;name&gt;&quot;

Output: 
    Photos for album &lt;name&gt;:
    &lt;fileName&gt; - &lt;date&gt;
    ...</code></pre></li>
<li><p>To add a photo to an album:</p>
<pre><code>addPhoto &quot;&lt;fileName&gt;&quot; &quot;&lt;caption&gt;&quot; &quot;&lt;albumName&gt;&quot;

Output: 
    Added photo &lt;fileName&gt;:
    &lt;caption&gt; - Album: &lt;albumName&gt;
Or:
    Photo &lt;fileName&gt; already exists in album &lt;albumName&gt;
Or:
    File &lt;fileName&gt; does not exist</code></pre>
<ul>
<li>Notes:
<ul>
<li><p>The date and time for the photo should be obtained from the properties of the photo file.</p></li>
<li><p>The caption is a property of the photo, not the album. This means if you add a photo to more than one album, you specify the caption when adding to the first album. Then, when adding to subsequent albums, you specify an empty string for the caption, meaning that the caption is retained from the first add. The output message for the subsequent adds however should have the original caption, so it's clear that the caption has been retained.</p></li>
</ul></li>
</ul></li>
<li><p>To move a photo from one album to another:</p>
<pre><code>movePhoto &quot;&lt;fileName&gt;&quot; &quot;&lt;oldAlbumName&gt;&quot; &quot;&lt;newAlbumName&gt;&quot;

Output: 
    Moved photo &lt;fileName&gt;:
    &lt;fileName&gt; - From album &lt;oldAlbumName&gt; to album &lt;newAlbumName&gt;
Or: 
    Photo &lt;fileName&gt; does not exist in &lt;oldAlbumName&gt;</code></pre>
<ul>
<li>Note: If the photo already exists in the new album, the command should return silently without doing anything.</li>
</ul></li>
<li><p>To remove a photo from an album:</p>
<pre><code>removePhoto &quot;&lt;fileName&gt;&quot; &quot;&lt;albumName&gt;&quot;

Output:
    Removed photo:
    &lt;fileName&gt; - From album &lt;albumName&gt;
Or: 
    Photo &lt;fileName&gt; is not in album &lt;albumName&gt;</code></pre></li>
<li><p>To add a tag to a photo:</p>
<pre><code>addTag &quot;&lt;fileName&gt;&quot; &lt;tagType&gt;:&quot;&lt;tagValue&gt;&quot;

Output:
    Added tag:
    &lt;fileName&gt; &lt;tagType&gt;:&lt;tagValue&gt;
Or: 
    Tag already exists for &lt;fileName&gt; &lt;tagType&gt;:&lt;tagValue&gt;</code></pre></li>
<li><p>To delete a tag from a photo:</p>
<pre><code>deleteTag &quot;&lt;fileName&gt;&quot; &lt;tagType&gt;:&quot;&lt;tagValue&gt;&quot;

Output:
    Deleted tag:
    &lt;fileName&gt; &lt;tagType&gt;:&lt;tagValue&gt;
Or: 
    Tag does not exist for &lt;fileName&gt; &lt;tagType&gt;:&lt;tagValue&gt;</code></pre></li>
<li><p>To list photo info:</p>
<pre><code>listPhotoInfo &quot;&lt;fileName&gt;&quot;

Output:
    Photo file name: &lt;fileName&gt;
    Album: &lt;albumName&gt;[,&lt;albumName&gt;]...
    Date: &lt;date&gt;
    Caption: &lt;caption&gt;
    Tags:&lt;tagType&gt;:&lt;tagValue&gt;
    ...
    (grouped by tag type, in the order location first, then people, and
    then others, sorted by tag value within each type)
Or: 
    Photo &lt;fileName&gt; does not exist</code></pre></li>
<li><p>To retrieve all photos taken within a given range of dates, in chronological order:<br /> getPhotosByDate <start date> <end date>`</p>
<pre><code>Output: 
    Photos for user &lt;user id&gt; in range &lt;start date&gt; to &lt;end date&gt;:
    &lt;caption&gt; - Album:   &lt;albumName&gt;[,&lt;albumName&gt;]... - Date: &lt;date&gt;
    ...</code></pre></li>
<li><p>To retrieve all photos that have all the given tags, in chronological order. Tags can be specified with or without their types:</p>
<pre><code>getPhotosByTag [&lt;tagType&gt;:]&quot;&lt;tagValue&gt;&quot; [,[&lt;tagType&gt;:]&quot;&lt;tagValue&gt;&quot;]...

Output:
    Photos for user &lt;user id&gt; with tags &lt;search string&gt;:`
    &lt;caption&gt; - Album: &lt;albumName&gt;[,&lt;albumName&gt;]... - Date: &lt;date&gt;
    ...</code></pre></li>
<li><p>To end the interactive mode (and the session):</p>
<pre><code>logout
Output: none</code></pre></li>
</ul>
<p>Any errors (illegal parameters, invalid dates) should be handled gracefully. No stack traces should be printed out (the user shouldn't have to know what an exception is). Instead, a one sentence description of what exactly went wrong should be printed. The format is as follows:</p>
<p><code>Error: &lt;description of error&gt;</code></p>
<p><strong>Important:</strong></p>
<ul>
<li><p>All names (such as user names, file names, etc.) in the commands are contained within quotes. The reason is you can have spaces in any of these, but the whole thing needs to be treated as a single quantity (token). So if a picture location is Busch Campus, say, it should not be read as two tokens, which necessitates typing in &quot;Busch Campus&quot;, within double quotes.</p></li>
<li><p>Quantities in angle brackets stand for corresponding <em>values</em>. That is, anything contained in an angle bracket should be replaced with an actual value. The angle brackets themselves should not be typed.</p></li>
<li>Quantities in square brackets are optional.</li>
<li><p><code>...</code> stands for repetition.</p></li>
<li><p>If you use a <code>java.io.BufferedReader</code> or <code>java.util.Scanner</code> to read input from <code>System.in</code>, be sure you do not instantiate a new one for every single input. This causes problems when the graders copy a larger set of commands into your program at once. Instantiate the reader/scanner <em>once</em> and re-use it for each read.</p></li>
<li><p>Stick to the input and output guidelines exactly. Any deviation from the specified formats will be penalized. <strong>This means no ascii art or clever intros at the beginning!</strong> (The graders do not care about what &quot;version&quot; you think the code is at, nor do they appreciate the carefully drawn box of roses surrounding said information...)</p></li>
</ul>
<h3 id="control">Control</h3>
<p>The control (or controller) does all manipulation/processing of data within the program including the creation (but not storage) and deletion of new objects, sorting/filtering data on various dimensions, and checking data validity that goes beyond syntactic correctness of input commands. (For instance, checking dates for validity.)</p>
<p>As mentioned earlier, the view can directly interact with the model only for direct access of data that is not processed in any way. Note that the user specification in the model includes storing albums in efficient data structures.</p>
<p>The control can know about a single user at a time. Then all operations on the control apply to that user.</p>
<p>The control should not be tied to any one particular model implementation, so it should interact with the model interface(s).</p>
<h3 id="api-driven-coding">API Driven Coding</h3>
<p>API (Application Programming Interface) refers to explicit and implicit interfaces that serve as &quot;contracts&quot;, enabling different parts of an application to be built independenly. For instance, if the two of you in a group know what all the <code>interface</code>s are (explicit interfaces), as well as what the public/package/protected members of all classes are (implicit interfaces), you can then divide up the work and fill in the code for all the classes you are responsible for.</p>
<p>For each of the main components for this first part--model and control--you will need to provide an API, which should be in the form of a set of **documented interfaces and public/package/protected class fields, constructors, and methods**. (Private fields, constructors, inner classes, and methods need not be documented for sharing, but you will document them all by the time you finish coding the entire part 1.)</p>
<p>Documentation should be done through <code>javadoc</code> and UML diagrams. (Note: not all classes you build will necessarily implement an interface.)</p>
<p>The UML diagrams will most likely not be complex. It should include all classes that the group writes in the model and control, but none from the view and none from the standard library (the graders know what a <code>String</code> is, no need to diagram it).</p>
<p>For javadoc, in addition to comments about the nature of the code, the javadoc for each class and interface must name the primary author for that class (use the <code>@author</code> field), and where applicable the javadoc for a particular method should also name its author.</p>
<p>The interfaces should be as <em>general</em> as possible. Ideally, one should be able to swap out your implementation of these interfaces for another with minimal code rewriting and no errors (assuming the other implementation is bug-free).</p>
<p>An example of making a generic interface comes from <code>java.util.List</code>. You saw in lecture how interface polymorphism is useful for swapping two different implementations of the <code>List</code> interface, the <code>LinkedList</code> and <code>ArrayList</code> classes, depending on need. Similarly, if you design the model and control interfaces well, it should be possible to swap different model or control implementations without changing any code that uses these interfaces.</p>
<h3 id="development-instructions">Development Instructions</h3>
<h4 id="developmenttesting">Development/Testing</h4>
<p>Development may take place anywhere, as long as your code is compilable with Java Version 6. You can develop with a higher version installation, but make sure your code compiles and runs under Java 6. It should, if you are not using features that are specific to the higher versions. If the graders are unable to compile/run your program on their machine, running Java 6, you will lose credit.</p>
<p>Also, you may only use the standard Java API. No external libraries!</p>
<h4 id="mercurial">Mercurial</h4>
<p>Each group will access its Mercurial repository on BitBucket, which you will set up according to the instructions given in the Mercurial/Bitbucket walkthrough page in Sakai. The repository name for your group will be <code>photoAlbumXX</code>, where <code>XX</code> is your two digit group number.</p>
<h3 id="submission">Submission</h3>
<h4 id="friday-feb-20-by-11-pm">Friday, Feb 20, by 11 PM</h4>
<ul>
<li><p>HTML documentation (generated by javadocs) of all explicit and implicit interfaces as described in the <a href="#api">API Driven Coding</a> section. This should be in the <code>docs</code> directory as described in the <a href="#structure">Project Structure</a> section, committed to your Mercurial repository in BitBucket.</p>
<p>Important: All interfaces and classes should have authorship, so that it is clear as to who will be developing what parts of the code.</p></li>
</ul>
<p>Submitting this will significantly help you (a) plan ahead and build the application in a professional manner, working independently for the most part, and synchronizing when you need to build the &quot;glue&quot; between parts, (b) protect against trouble if one of you complains because the other does too much work (takes charge and doesn't work together), or too little work.</p>
<p>If you are having trouble making this submission, it means you are not able to work together as a team, and should contact Prof. Venugopal to get the issue resolved. After this point, you are assumed to be working well together, and complaints about the partnership will only be entertained if one partner has dropped the class.</p>
<h4 id="fri-mar-8-by-11-pm">Fri, Mar 8, by 11 PM</h4>
<ul>
<li>Complete code, UML diagram (PDF ONLY), updated javadoc generated HTML (if you have updated the javadocs after the February 22 submission), sample user data in the <code>data</code> directory, all committed to your Mercurial repository in BitBucket.</li>
</ul>
<p>Any changes made to the repository after the deadline will not be graded - the grader will pull the project in its state at the deadline, not the most recent version.</p>
<p>Be sure that there are no hard coded file paths. The grader should not have to do anything other than check out your project and run an appropriate (and generic except for your group numer) test script. Anything else will result in a deduction from the score.</p>
<h3 id="grading-1">Grading</h3>
<p>The project will be graded on the following criteria:</p>
<ul>
<li><p><strong>Good design:</strong> How well the project conforms to the MVC pattern, how well your submission of February 22 anticipated the completed implementation, and how well your UML diagram represents the code.</p></li>
<li><p><strong>Implementation</strong>: Everyting described in the the <strong>Model</strong>, <strong>View</strong>, and <strong>Control</strong> specifications.</p></li>
<li><strong>Documentation:</strong> Appropriately detailed javadocs</li>
<li><p><strong>Specification Adherence:</strong> How well your project conforms to the guidelines in this document</p></li>
</ul>
<h3 id="sample-run">Sample Run</h3>
<p>Here is a sample test run. Your program should work on this test (and we will check!), but also others. You might find it convenient to make your own test runs. The following test run assumes the existence of a user &quot;testuser&quot;.</p>
<p>Note: You can run the program in Eclipse, but you will need to keep changing the program arguments frequently for the command line mode, which can get annoying. It may be easier to position youseelf in the eclipse workspace project <code>bin</code> directory, and run the program from there.</p>
<p>If you get a <code>ClassNotFoundError</code> from this, try adding <code>-cp .</code> to the command line, right after <code>java</code> as in: <code>java -cp . &lt;stuff&gt;</code></p>
<p>The following sample works with this assumption. (And when we test your program, we will run java outside Eclipse.)</p>
<pre><code>java cs213.photoAlbum.simpleview.CmdView login testuser c.. 

createAlbum &quot;Fall colors&quot;

createAlbum &quot;Colorado Springs&quot;

addPhoto &quot;DSC_001.jpg&quot; &quot;DSC_001&quot; &quot;Fall colors&quot;

addPhoto &quot;DSC_005.jpg&quot; &quot;DSC_005&quot; &quot;Fall colors&quot;

addPhoto &quot;DSC_007.jpg&quot; &quot;DSC_007&quot; &quot;Colorado Springs&quot;

listAlbums

movePhoto &quot;DSC_001.jpg&quot; &quot;Colorado Springs&quot;

addTag &quot;DSC_001.jpg&quot; person:&quot;Alex Buschman&quot;

addTag &quot;DSC_001.jpg&quot; location:&quot;Colorado&quot;

addTag &quot;DSC_005.jpg&quot; person:&quot;Alex Buschman&quot;

listPhotos &quot;Fall colors&quot;

searchPhotosByTags person:&quot;Alex Buschman&quot;

logout</code></pre>
<p>This run should produce the following output:</p>
<pre><code>created album for user testuser: 
Fall colors
created album for user testuser: 
Colorado Springs

Added photo DSC_001.JPG: 
DSC_001 - Album: Fall Colors

Added photo DSC_005.JPG: 
DSC_005 - Album: Fall Colors

Added photo DSC_007.JPG: 
DSC_007 - Album: Colorado Springs

Albums for user testuser: 
Colorado Springs number of photos: 1, 02/12/2012-09:23:00 - 02/12/2012-09:23:00
Fall Colors number of photos: 2, 02/12/2012-10:15:00 - 02/12/2012-15:42:00

Moved photo DSC_001.JPG: 
DSC_001.JPG - From album Fall Colors to album Colorado Springs

Added tag:
DSC_001.jpg person:&quot;Alex Buschman&quot;

Added tag:
DSC_001.jpg location:&quot;Colorado&quot;

Added tag:
DSC_005.jpg person:&quot;Alex Buschman&quot;

Photos for album Fall Colors: 
DSC_005.JPG - 02/12/2012-15:42:00

Photos for user testuser containing person:Alex Buschman
DSC_001 - Album: Colorado Springs - Date: 02/12/2012-09:23:00
DSC_005 - Album: Fall Colors - Date: 02/12/2012-15:42:00</code></pre>
<h2 id="february-18th-2013---recitation-4-project-qa-debugging-in-eclipse-polymorphism">February 18th, 2013 - Recitation 4: Project Q&amp;A, Debugging in Eclipse, Polymorphism</h2>
<ol style="list-style-type: decimal">
<li>Project Q&amp;A
<ul>
<li><p>This friday we have to hand in the APIs, how we're going to design it.</p></li>
<li><p>We have &quot;work to do&quot;, we have to implement what we do this Friday.</p></li>
<li>Making an API is what you do in the real world.</li>
<li>This is not naive paper work.</li>
<li><p>Minor changes are likely okay, but major changes will lead to deductions.</p></li>
<li>Photo objects and data containers are only getters and setters?
<ul>
<li>Basically, yes.</li>
</ul></li>
</ul></li>
<li><p>Debugging in Eclipse</p>
<p>Download the (buggy) code in <code>HeapSort.java</code> and import it into Eclipse. Use the debugger to track down the bug(s) and fix the code.</p></li>
<li><p>There is an application that defines a <code>Person</code> class and a <code>Student</code> class. The <code>Student</code> class is defined as a subclass of <code>Person</code>. Every person has a home address, while every student has a school address as well.</p>
<p>Consider printing addresses of all people in the application, assuming there is a single array list that stores all <code>Person</code> and <code>Student</code> objects. How would the address that is printed for students depend on the way the <code>Student</code> class address methods are designed/implemented? What alternatives in design can you think of, and what are the pros and cons of these alternatives in printing the addresses?</p>
<ul>
<li><p>Every Person is expected to have one default home address, but Student can have another address for school.</p></li>
<li>There are two ways to think about this.
<ol style="list-style-type: decimal">
<li><p>One way is to think purely from the polymorphism point of view. If you were to run a loop through all objects in a mixed collection of Person and Student objects to print address, you will statically type the stepping reference as Person, say like this:</p>
<pre><code>    for (Person p: ) {
        System.out.println(p.getAddress());
    }</code></pre>
This means, you want to look at every entity, including a Student, as a Person, which then implies that all addresses printed should be home addresses. If you take this point of view, then the Student class should not override the inherited getAddress method from Person, and should have a new getSchoolAddress method.</li>
<li><p>The other way to think about this is from the point of view of class design independent of how applications might use objects at run time. In this case, the method getAddress for a Student would override the inherited-from-Person implementation to return the school address instead. And a new getHomeAddress method would be coded to return the home address.</p></li>
</ol></li>
</ul></li>
<li><p>In class we saw how you could write code to print a collection of mixed <code>Point</code> and <code>ColoredPoint</code> objects:</p>
<pre><code>   Point[] pts = new Point[n];
   pts[0] = new Point(2,3);
   pts[1] = new ColoredPoint(3,4,&quot;black&quot;);
   ...
   for (int i=0; i &lt; pts.length; i++) {
      System.out.println(pts[i]);
   }</code></pre>
<ol style="list-style-type: decimal">
<li>Where is the <em>polymorphic</em> behavior in this code?
<ul>
<li>Every time the <code>System.out.println(pts[i])</code> is executed, either a <code>Point</code> object is printed, or a <code>ColoredPoint</code> is printed, depending on the run-time type of the object to which <code>pts[i]</code> (which is statically typed to <code>Point</code>) refers. So <code>pts[i]</code> exhibits polymorphic behavior because it <em>automatically</em> changes &quot;shape&quot; between <code>Point</code> and <code>ColoredPoint</code> objects without any programmer intervention.</li>
</ul></li>
<li><p>Give an example of code using the <code>pts</code> array that is NOT polymorphic, and explain why it is not polymorphic.</p>
<pre><code>for (int i=0; i &lt; pts.length; i++) {
      if (pts[i] instanceof ColoredPoint) {
         System.out.println(((ColoredPoint)pts[i]).getColor());
      }
   }</code></pre>
<p>This code is not polymorphic because in every iteration, the run-time type of <code>pts[i]</code> is checked explicitly, then cast to <code>ColoredPoint</code> - there is not any automatic shape-shifting.</p></li>
</ol></li>
<li><p>Suppose classes <code>A</code> and <code>B</code> are in package <code>ab</code>, and classes <code>C</code> and <code>D</code> are in package <code>cd</code>. Furthermore, both <code>C</code> and <code>B</code> extend <code>A</code>, and <code>D</code> extends <code>B</code>. Assume all classes are declared to be <code>public</code>.</p>
<ol style="list-style-type: decimal">
<li><p>Are <code>protected</code> members of <code>A</code> accessible in <code>C</code>?  If yes, explain how. If not, explain why.</p>
<ul>
<li>Protected members of <code>A</code> are <em>inherited</em> by <code>C</code>, but not accessible in <code>C</code> via instances of <code>A</code>.</li>
</ul></li>
<li><p>Are <code>protected</code> members of <code>A</code> accessible in <code>D</code>?  If yes, how? If not, why?</p>
<ul>
<li>Protected members of <code>A</code> are <em>inherited</em> by <code>D</code> via <code>B</code> (in other words, <code>B</code> inherits protected fields from <code>A</code>, and <code>D</code> from <code>B</code>), but as with <code>C</code> protected members in <code>A</code> are not visible in <code>D</code> via instance of <code>A</code>.</li>
</ul></li>
<li>Answer the same question as in 1. replacing <code>A</code> with <code>B</code>
<ul>
<li>Protected members of <code>B</code> are <em>NOT</em> inherited by <code>C</code>, nor are they accessible in <code>C</code> via instances of <code>A</code>, since <code>C</code> is in a different package than <code>B</code>, but does not extend <code>B</code>.</li>
</ul></li>
<li>Answer the same question as in 2. replacing <code>A</code> with <code>B</code>
<ul>
<li><code>D</code> inherits protected members of <code>B</code> since it subclasses from <code>B</code></li>
</ul></li>
</ol></li>
<li><p>You are given the followig <code>Employee</code> class:</p>
<pre><code>public class Employee {
  private String name;
  private double salary;

  public Employee(String aName) {
     name = aName; 
  }

  public void setSalary(double aSalary) {
     salary = aSalary; 
  }

  public String getName() {
     return name; 
  }

  public double getSalary() {
     return salary; 
  }
}</code></pre>
<p>Write subclasses <code>HourlyEmployee</code> and <code>SalariedEmployee</code> of the <code>Employee</code> class.  Provide the constructors listed below:</p>
<pre><code>HourlyEmployee(String aName, double anHourlySalary)

SalariedEmployee(String aName, double anAnnualSalary)</code></pre>
<p>Add, in the appropriate place(s), the method:</p>
<pre><code>double getWeeklySalary()</code></pre>
<p>(You can modify the <code>Employee</code> class if needed.)</p>
<p>Assume that hourly employees work 40 hours per week, and salaried employees are paid 1/52 of their annual salary every week.</p>
<pre><code>    public class Employee {
  private String name;
  private double salary;

  public Employee(String aName) {
     name = aName; 
  }

  public void setSalary(double aSalary) {
     salary = aSalary; 
  }

  public String getName() {
     return name; 
  }

  public double getSalary() {
     return salary; 
  }

  public double getWeeklySalary() {
     return salary/52; 
  }
}

public class HourlyEmployee extends Employee {
    public HourlyEmployee(String aName, double anHourlySalary) {
        super(name);
        setSalary(anHourlySalary*40*52);
    }
}

public class SalariedEmployee extends Employee {
    public SalariedEmployee(String aName, double anAnnualSalary) {
        super(name);
        setSalary(anAnnualSalary);
    }
}</code></pre></li>
<li><p>(Adapted from an example in Interface Oriented Design by Ken Pugh, sec. 4.2) Suppose you want to create a printing subsystem for several different printers, each with different capabilities/features (e.g. color printing, high-resolution, duplex, multiple trays, etc.).  How could you place the different capabilities into an interface?  Should you use a single interface or multiple interfaces (e.g. ColorPrinter, DuplexPrinter, MultiTrayPrinter)?  Describe the advantages and disadvantages of both approaches.</p>
<ul>
<li><p>It is generally better to produce several interfaces that are more specific to the various types of printers than to produce one large interface that covers all possibilities. If the interface is modified, then only code utilizing the modified interface must be changed. Programming each separate interface can take place independently and in parallel, so that the tasks can be distributed to different programmers.</p></li>
<li><p>Also, any printer that did not make use of certain features of a single, combined interface, would have to write method stubs (empty method bodies) for non-implemented features, and throw exceptions if those methods were called. This is bad design, since a class should support every single feature for which it has a public method (otherwise why is that method in the class?)</p></li>
</ul></li>
</ol>
<h2 id="february-19th-2013---lecture">February 19th, 2013 - Lecture</h2>
<h3 id="object-input-and-output-streams">Object input and output streams</h3>
<ul>
<li><p>Jave provides a convinient way to dump all data.</p>
<pre><code>public static final String dirName = &quot;dat&quot;
public static final String fileName = &quot;filename&quot;

public static void writeApp(GeomApp gapp) 
throws IOException {
    ObjectOutputStream oos = new ObjectOutputStream(
        new FileOutputStream(
            dirname + File.separator + filename));

    oos.writeObject(gapp);
    // It&#39;s really that simple. (TM)
}</code></pre></li>
<li><p>This takes the object and writes the definitions of the classes before it writes the instances.</p></li>
<li><p>It'll actually write the geomApp class and it has references to points and it'll write that stuff out.</p></li>
<li>When it gets to an instance it'll give it a serial number.</li>
<li><p>Serial numbers are given so that if there are multiple instances of a given class there is only one definition that they all refer to.</p>
<pre><code>public static GeomApp readApp() 
        throws IOException, ClassNotFoundException {
    ObjectInputStream oos = new ObjectInputStream(
        new FileInputStream(
            dirname + File.separator + filename));

    this = (GeomApp)ois.readObject(filename);
}</code></pre></li>
<li><p>Say you have a class which you serialize and someone else has it and you share the data, but that other person changes the class.</p>
<ul>
<li>What do?</li>
</ul></li>
<li><p>This means that version 1 data could be incompatible with version 2. How do you fix this.</p></li>
<li>You have to declare a serial version UID.
<ul>
<li>This is a static variable.</li>
<li>By default it is 1.</li>
<li><p>When you serialize, it doesn't write out the generated UID, it makes the 1.</p></li>
<li>So when you have new datatypes, it's compatible.
<ul>
<li>This seems like magic.</li>
</ul></li>
</ul></li>
</ul>
<h3 id="abstract-classes">Abstract Classes</h3>
<ul>
<li><p>When several classes have a common conceptual foundation, they can be generalized into an abstract superclass.</p></li>
<li>In Java a class is defined abstract in the class header.</li>
<li>An abstract method is one that has no implementation
<ul>
<li>An abstract class may have zero or more abstract method.</li>
</ul></li>
<li>An abstract class may implement non default constractors.</li>
<li><p>An abstract class cannot be instatiated even if all the methods have been implemented.</p></li>
</ul>
<h4 id="inheritancee-polymorphism">Inheritancee Polymorphism</h4>
<ul>
<li><p>Dynamically binding to same functionality in classes at different levels of an inhertance hierarchy.</p></li>
<li><p>This is interesting because it allows to write code that allows you to change entire implementation usage with just one change in code, so long as it implements an abstract class.</p></li>
<li><p>Dynamically binding to same functionality in classes at different levels of an inhertance hirarchy using a &quot;least common denominator&quot; type.</p>
<ul>
<li>Applied more boradly than just to abstract classes.</li>
</ul></li>
</ul>
<h2 id="february-20th-2013---lecture">February 20th, 2013 - Lecture</h2>
<h3 id="abstract-class-vs.-interface">Abstract class vs. Interface</h3>
<h4 id="compare-and-contrast">Compare and contrast</h4>
<ul>
<li><p>You cannot have multiple inheritance with abstract classes, interfaces can.</p></li>
<li>Interfaces do not have any implentation, abstract class can.</li>
<li><p>If you find yourself with an abstract class with little implementation, you likely want an interface.</p>
<ul>
<li>Abstract classes close of the option.</li>
<li>Depends on the context.</li>
</ul></li>
</ul>
<h3 id="uml-class-diagram---i">UML Class Diagram - I</h3>
<ul>
<li>UML stands for Unified Modellling Language.</li>
<li>Mail graphical notation used to express object-oriented designed.</li>
<li>Most of it is arrows.</li>
<li>Types:
<ul>
<li><p><strong>Class interaction diagram</strong>: Used to show classes and the relations between them.</p>
<ul>
<li><strong>State diagram</strong>: Used to represent state based designs.</li>
</ul></li>
<li><p><strong>Sequence diagram</strong>: Used to show sequences of activity when methods are invoked on classes.</p></li>
</ul></li>
<li>Class diagram
<ul>
<li>A class diagram shows classes and the realtions between them.</li>
<li><p>The simplest way to draw a class is like this:</p>
<pre><code>+-----------------------+
|   rectangle           |
+-----------------------+</code></pre></li>
<li><p>An even reater level of detail can be adde by specifyin the type of each attribute, as well as type of each parameter.</p></li>
<li><p>And the access level for each member</p>
<pre><code>+-----------------------+
|Window                 |
+-----------------------+
+-----------------------+
|open()                 |
|close()                |
|move()                 | -------&gt; dependance
|refresh()              |
|handleEvent()          |
+-----------------------+       </code></pre></li>
</ul></li>
</ul>
<h2 id="february-25th-2013---recitation-5-abstract-classes-interfaces">February 25th, 2013 - Recitation 5: Abstract Classes, Interfaces</h2>
<ol style="list-style-type: decimal">
<li><p>This problem gives an example where polymorphism is useful. Consider the class hierarchy given below :</p>
<pre><code> public abstract class Shape implements Comparable&lt;Shape {

     public void print() {
         System.out.println(&quot;Shape&quot;);
     }

     public abstract double getArea();

      public static final Shape biggest(Shape[] s) {
    if (s.length == 0) { return null; }
    Shape biggestShape = s[0];
    for (int i = 1; i &lt; s.length; i++) {
        if (biggestShape.compareTo(s[i]) &lt; 0) {
            biggestShape = s[i];
        }
    }
    return biggestShape;
}

    public int compareTo(Shape s) {
    double areaDifference = getArea() - s.getArea();
    if (areaDifference == 0) {
        return 0;
    }
    return areaDifference &lt; 0 ? -1 : 1;
}
 }

 public class Circle extends Shape {
     double radius;

     public Circle(double r) {
         radius = r;
     }

     public void print() {
         System.out.println(&quot;Circle&quot;);
     }

     public double getArea() {
         return Math.PI*radius*radius;
     }
 }

 public class Rectangle extends Shape {

     double height;
     double length;

     public Rectangle(double l,double h) {
         length = l;
         height = h;
     }

     public void print() {
         System.out.println(&quot;Rectangle&quot;);
     }

     public double getArea() {
         return length*height;
     }
 }

 public class App {

     public static void main(String[] args) {
         Shape[] s = new Shape[3];

         s[0] = new Circle(7);
         s[1] = new Rectangle(5,10);
         s[2] = new Circle(4);

         System.out.println(&quot;The maximum area of a shape in s is : &quot;+Shape.maximum(s));
         return;        
     }
 }</code></pre>
<p>Complete the method</p>
<pre><code>    public static Shape biggest(Shape[] s)</code></pre>
<p>in the <code>Shape</code> class. This method should return the shape with the largest area. Note that <code>Shape</code> implements the <code>Comparable</code> interface. Different <code>Shape</code>s should be compared using their area. Now if we extend the Shape hierarchy to include more shapes, say rhombus, then will your method run without any problems?</p></li>
<li><p>In a previous problem set, you packaged a Java library of sorting algorithms:  insertion sort, quicksort, and heapsort.  using interfaces so that users could use any of these algorithms in their applications, and switch from using one to another (plug-n-play). Redo the exercise using abstract classes instead of interfaces.</p>
<p>This is the abstract superclass of all the sorting algorithms:</p>
<pre><code>     public abstract class Sort&lt;T extends Comparable&lt;T&gt;&gt; {
        T[] list;
        public Sort(T[] list) {    // implemented constructor
           this.list = list;  
        }
        public abstract void sort();  // abstract sort method
     }</code></pre>
<p>Here's an example of one of the sorting implementations (just the shell):</p>
<pre><code>    public class InsertionSort&lt;T extends Comparable&lt;T&gt;&gt; extends Sort&lt;T&gt; { // note the syntax
       public InsertionSort(T[] list) {
          super(list);
       }
        public void sort() {   // implement the overridden abstract method
           // implementation goes here
           ...
        }
    }</code></pre>
<p>And the usage in client code:</p>
<pre><code>    String[] list = new String[n];
    // populate list with strings
    ...
    Sort&lt;String&gt; sorter = new InsertionSort&lt;String&gt;(list);
    sorter.sort();
    // list is now in sorted order</code></pre></li>
<li><p>Think of a board game in which there are two kinds of pieces:  a slow piece that moves only one square at a time, and a fast piece that moves any number of squares (as required by the player) at a time.  Each piece can also be either flexible or not:  a non-flexible piece can only move horizontally or vertically, while a flexible piece can also move diagonally.</p>
<p>How would you write Java code for all these pieces?  You need to have one class for each kind of actual piece.  Use interfaces and abstract classes as needed.  You don't need to fill in code for all the methods—just sketch the essential fields, constructor headers, and method headers.</p>
<pre><code>public abstract class GamePiece {
    public static final int DIR_NORTH = 0;
    public static final int DIR_SOUTH = 1;
    public static final int DIR_EAST = 2; 
    public static final int DIR_WEST = 3;
    public static final int DIR_NORTHEAST = 4;
    public static final int DIR_NORTHWEST = 5;
    public static final int DIR_SOUTHWEST = 6;
    public static final int DIR_SOUTHEAST = 7;

    protected int xPosition;
    protected int yPosition;

    public boolean movePiece(int numSpaces, int direction) {
        if (direction &gt; DIR_SOUTHEAST || direction &lt; DIR_NORTH || numSpaces &lt; 0) {
            return false;
        }
        switch(direction) {
        case DIR_NORTH:
            yPosition += numSpaces; return true;
        case DIR_SOUTH:
            yPosition -= numSpaces; return true;
        case DIR_EAST:
            xPosition += numSpaces; return true;
        case DIR_WEST:
            xPosition -= numSpaces; return true;
        case DIR_NORTHEAST:
            yPosition += numSpaces; xPosition += numSpaces; return true;
        case DIR_SOUTHWEST:
            yPosition -= numSpaces; xPosition -= numSpaces; return true;
        case DIR_NORTHWEST:
            yPosition += numSpaces; xPosition -= numSpaces; return true;
        case DIR_SOUTHEAST:
            yPosition -= numSpaces; xPosition += numSpaces; return true;
        }
        return false;
    }

    public GamePiece(int xPosition, int yPosition) {
        this.xPosition = xPosition;
        this.yPosition = yPosition;
    }
}

public class FastFlexiblePiece extends GamePiece {
    public FastFlexiblePiece(int xPosition, int yPosition) {
        super(xPosition,yPosition);
    }
}

public class SlowFlexiblePiece extends GamePiece {
    public SlowFlexiblePiece(int xPosition, int yPosition) {
        super(xPosition,yPosition);
    }

    public boolean movePiece(int numSpaces, int direction) {
        if (numSpaces &gt; 1) {
            return false;
        }
        return super.movePiece(numSpaces,direction);
    }
}

public class FastInflexiblePiece extends GamePiece {
    public FastInflexiblePiece(int xPosition, int yPosition) {
        super(xPosition,yPosition);
    }

    public boolean movePiece(int numSpaces, int direction) {
        if (direction &gt; DIR_WEST) {
            return false;
        }
        return super.movePiece(numSpaces,direction);
    }
}

public class SlowInflexiblePiece extends GamePiece {
    public SlowInflexiblePiece(int xPosition, int yPosition) {
        super(xPosition,yPosition);
    }

    public boolean movePiece(int numSpaces, int direction) {
        if (direction &gt; DIR_WEST || numSpaces &gt;1) {
            return false;
        }
        return super.movePiece(numSpaces,direction);
    }
}</code></pre>
<p><strong>Example implementation 2</strong>:</p>
<pre><code>public abstract class GamePiece {

    public static final int DIR_NORTH = 0;
    public static final int DIR_SOUTH = 1;
    public static final int DIR_EAST = 2; 
    public static final int DIR_WEST = 3;

    protected int xPosition;
    protected int yPosition;

    // all pieces can move 1 space horizontally or vertically
    public void move(int direction) {
        if (direction &gt; DIR_WEST || direction &lt; 0) {
            throw new IllegalArgumentException(&quot;direction &gt; DIR_WEST || direction &lt; 0&quot;);
        }

        switch(direction) {
        case DIR_NORTH:
            yPosition++; break;
        case DIR_SOUTH:
            yPosition--; break;
        case DIR_EAST:
            xPosition++; break;
        case DIR_WEST:
            xPosition--; break;
        }
    }

    public GamePiece(int xPosition, int yPosition) {
        this.xPosition = xPosition;
        this.yPosition = yPosition;
    }
}

public class SlowPiece extends GamePiece {
    public SlowPiece(int xPosition, int yPosition) {
        super(xPosition,yPosition);
    }

    public void move(int direction) {
        super.move(direction);
    }
}

public class FastPiece extends GamePiece {
    public FastPiece(int xPosition, int yPosition) {
        super(xPosition,yPosition);
    }

    public void move(int numSpaces, int direction) {
        if (numSpaces &lt; 0) {
           throw new IllegalArgumentException(&quot;numSpaces &lt; 0&quot;);
        }
        if (numSpaces == 1) {
            super.move(direction);
            return;
        } 
        if (direction &gt; DIR_WEST || direction &lt; 0) {
            throw new IllegalArgumentException(&quot;direction &gt; DIR_WEST or &lt; 0&quot;);
        }

        switch(direction) {
        case DIR_NORTH:
            yPosition += numSpaces; break;
        case DIR_SOUTH:
            yPosition -= numSpaces; break;
        case DIR_EAST:
            xPosition += numSpaces; break;
        case DIR_WEST:
            xPosition -= numSpaces; break;
        }
    }
}

public interface Flexible {
    public static final int DIR_NORTHEAST = 4;
    public static final int DIR_NORTHWEST = 5;
    public static final int DIR_SOUTHWEST = 6;
    public static final int DIR_SOUTHEAST = 7;
}

public class SlowFlexiblePiece extends SlowPiece implements Flexible {
    public SlowFlexiblePiece(int xPosition, int yPosition) {
        super(xPosition,yPosition);
    }

    public void move(int direction) {
        if (direction &gt; Flexible.DIR_SOUTHEAST || direction &lt; 0) {
           throw new IllegalArgumentException(&quot;direction &gt; Flexible.DIR_SOUTHEAST or &lt; 0&quot;);
        }
    if (direction &lt;= DIR_WEST) {
           super.move(direction);
           return;
        }
        switch(direction) {
        case Flexible.DIR_NORTHEAST:
            xPosition++; yPosition++; break;
        case Flexible.DIR_NORTHWEST:
            xPosition--; yPosition++; break;
        case Flexible.DIR_SOUTHWEST:
            xPosition--; yPosition--; break;
        case Flexible.DIR_SOUTHEAST:
            xPosition++; yPosition--; break;
        }
    }
}

public class FastFlexiblePiece extends FastPiece implements Flexible {
    public FastFlexiblePiece(int xPosition, int yPosition) {
        super(xPosition,yPosition);
    }

    public void move(int numSpaces, int direction) {
        if (numSpaces &lt; 0) {
           throw new IllegalArgumentException(&quot;numSpaces &lt; 0&quot;);
        }
        if (direction &gt; Flexible.DIR_SOUTHEAST || direction &lt; 0) {
           throw new IllegalArgumentException(&quot;direction &gt; Flexible.DIR_SOUTHEAST or &lt; 0&quot;);
        }
        if (direction &lt;= DIR_WEST) {
        super.move(numSpaces, direction);
            return;
        }
        switch(direction) {
        case Flexible.DIR_NORTHEAST:
            xPosition += numSpaces; yPosition += numSpaces; break;
        case Flexible.DIR_NORTHWEST:
            xPosition -= numSpaces; yPosition += numSpaces; break;
        case Flexible.DIR_SOUTHWEST:
            xPosition -= numSpaces; yPosition -= numSpaces; break;
        case Flexible.DIR_SOUTHEAST:
            xPosition += numSpaces; yPosition -= numSpaces; break;
        }
    }
}</code></pre>
<p><strong>Further Thoughts</strong>:</p>
<ul>
<li>Is one implementation better than the other?</li>
<li><p>Is there any code redundancy in the second implementation? If so, how can it be removed?</p></li>
<li><p>Can you think of another possibility that does not involve any abstract classes?</p></li>
</ul></li>
<li><p>A game developer asks you to make a set of classes to represent the monsters in a game. There are at least two different types of monsters, those that walk and those that bounce, but the code you write needs to be easily expandable to different types. Specifically, the code to keep track of a monster's appearance and to draw the monster needs to be in only one place. You are given an interface to start out:</p>
<pre><code>public interface Monster {
    void drawMonster();
    void setMonsterImage(Image i);
    void updatePosition();
}</code></pre>
<p>Create an abstract base class <code>MovingMonster</code> for all monsters, and one subclass for each of two types discussed, <code>WalkingMonster</code> and <code>BouncingMonster</code>. Each monster will need to keep track of its own position and update it when the <code>updatePosition()</code> method is invoked. Assume that the Image class has a method <code>draw(int x, int y)</code>. The contents of the <code>updatePosition()</code> method are not important, but it has to change the monster's position and be different for either monster.</p>
<pre><code>public abstract class MovingMonster implements Monster {
    protected Image image;
    protected int xPosition;
    protected int yPosition;

    public abstract void updatePosition();

    public void drawMonster() {
        // Some implementation here.
    }
    public void setMonsterImage(Image i) {
        image = i;
    }

    public MovingMonster(Image image) {
        this.image = image;
        xPosition = yPosition = 0;
    }
}

public class WalkingMonster extends MovingMonster {
    public void updatePosition() {
        xPosition++;
    }

    public WalkingMonster(Image image) {
        super(image);
    }
}

public class BouncingMonster extends MovingMonster {
    public void updatePosition() {
        xPosition++;
        yPosition = (yPosition + 1) % 2;
    }

    public BouncingMonster(Image image) {
        super(image);
    }
}</code></pre></li>
</ol>
<h2 id="february-26th-2013---assignment-2-2-player-chess">February 26th, 2013 - Assignment 2: 2-Player Chess</h2>
<ul>
<li><p>For this assignment you will explore how to apply the design ideas learned in class to design and implement a board game.</p></li>
<li>You will work <strong>individually</strong> on this assignment. Read the <a href="http://www.cs.rutgers.edu/policies/academicintegrity/index.php?page=3">DCS</a></li>
<li><p>you are responsible for this. In particular, note that **&quot;All Violations of the Academic Integrity Policy will be reported by the instructor to the appropriate Dean&quot;.**</p></li>
<li><p>You will implement the game of <a href="http://en.wikipedia.org/wiki/Chess">Chess</a> for two players. Your program, when launched, should draw the board using the terminal and prompt whomever's turn it is (white or black) for a move. Once the move is executed, the move should be played and the new board drawn, and the other player queried.</p></li>
</ul>
<h3 id="output">Output</h3>
<ul>
<li><p>The board should be drawn on the screen with with ascii art in some sort of grid. Everything should be easily viewable in a standard sized terminal with 80 columns and 24 rows. The identity of each piece, color and type, must be easily discernible from the display. If the player whose turn it is is in check, that must be reported. The details are left to you.</p></li>
<li><p>Every piece must know what moves are allowed on it. If a player attempts an illegal move on a piece, your program should not execute the move, but instead, print an explanatory message detailing all legal moves the piece can make from the current position.</p></li>
<li><p>When a move is made, and it puts the opponent's King under check, your program should print &quot;Check&quot; before asking for the opponent's move.</p></li>
<li><p>If a checkmate or stalemate is detected, your program should print &quot;Checkmate&quot; or &quot;Stalemate&quot;.</p></li>
<li><p>The last thing before termination should be a display of &quot;Black wins&quot;, &quot;White wins&quot; or &quot;Draw&quot;.</p></li>
</ul>
<h3 id="input">Input</h3>
<ul>
<li><p>Your program needs to accept input of the form &quot;FileRank FileRank&quot;, where the first file (column) and rank (row) are the coordinates of the piece to be moved, and the second file and rank are the coordinates of where it should end up.</p></li>
<li><p>The figure immediately below should make it clear which rank and file combinations belong to which squares. The white pieces always initially occupy ranks 1 and 2. The black pieces always initially occupy ranks 7 and 8. The queen always starts on the d file.</p></li>
<li><p>As an example, advancing the white king's pawn two spaces would be input as &quot;e2 e4&quot;.</p></li>
<li><p>A castling move is indicated by specifying where the king begins and ends. So, white castling king's side would be &quot;e1 g1&quot;.</p></li>
<li><p>A pawn promotion is indicated by putting the piece to be promoted to after the move. So, promoting a pawn to a knight might be &quot;g7 g8 N&quot;. If no promotion is indicated, it is assumed to be a queen.</p>
<pre><code>bR bN bB bQ bK bB bN bR 8
bp bp bp bp bp bp bp bp 7
   ##    ##    ##    ## 6
##    ##    ##    ##    5
   ##    ##    ##    ## 4
##    ##    ##    ##    3 
wp wp wp wp wp wp wp wp 2
wR wN wB wQ wK wB wN wR 1
 a  b  c  d  e  f  g  h

White&#39;s move: e2 e4

bR bN bB bQ bK bB bN bR 8
bp bp bp bp bp bp bp bp 7
   ##    ##    ##    ## 6
##    ##    ##    ##    5
   ##    ## wp ##    ## 4
##    ##    ##    ##    3
wp wp wp wp    wp wp wp 2
wR wN wB wQ wK wB wN wR 1
 a  b  c  d  e  f  g  h

Black&#39;s move: e7 e5

bR bN bB bQ bK bB bN bR 8
bp bp bp bp ## bp bp bp 7
   ##    ##    ##    ## 6
##    ##    bp    ##    5
   ##    ## wp ##    ## 4
##    ##    ##    ##    3
wp wp wp wp    wp wp wp 2
wR wN wB wQ wK wB wN wR 1
 a  b  c  d  e  f  g  h

White&#39;s move:</code></pre></li>
</ul>
<h4 id="ending-the-game">Ending the game</h4>
<ul>
<li><p>If checkmate occurs, the game shall end immediately with the result reported.</p></li>
<li><p>A player may resign by entering &quot;resign&quot;.</p></li>
<li><p>A player may offer a draw by appending &quot;draw?&quot; to the end of an otherwise regular move. The draw may be accepted by the other player submitting &quot;draws&quot; as the entirety of his or her next move. There will be no automatic draws (due to unchanging positions over long periods of time, etc).</p></li>
</ul>
<h3 id="grading-2">Grading</h3>
<ul>
<li><p>Correctness, 75 pts: Implementation of all required functionality including drawing the board</p></li>
<li><p>Design, 5 pts: Appropriate application of object-oriented design ideas you have learned. Although design points are low, our experience is that if you design your solution badly, you will have a lot of trouble implementing/debugging it.</p></li>
</ul>
<h3 id="submission-1">Submission</h3>
<ul>
<li><p>Name your project <code>Chess</code>. Use packages as necessary. Name your main class <code>Chess</code>. Make sure you record your name in each Java file with the <span class="citation">@author</span> Javadoc tag.</p></li>
<li><p>Zip your project source into a zip archive called <code>chess.zip</code> (see Eclipse tab, under &quot;Zipping up a Project&quot;) and submit this file to Sakai.</p></li>
<li><p><a href="https://github.com/PLJNS/Rutgers-Soft-Meth-Spring-2013/tree/master/Chess/src">Source</a></p></li>
</ul>
<h2 id="february-25th-2013---lecture">February 25th, 2013 - Lecture</h2>
<h3 id="quiz-preparation">Quiz preparation</h3>
<ul>
<li>Implemented <code>equals</code>
<ul>
<li><p>An example of good equals, according to Dr. Sesh:</p>
<pre><code>public boolean equals (Object o) {
    if (o == null || !(o instanceof Point))
        return null;
    Point p = (Point) o;
    return x == p.x &amp;&amp; y = p.y;
    }</code></pre></li>
</ul></li>
<li><p>Another example from <a href="http://stackoverflow.com/a/27609/1489522">StackOverflow</a>:</p>
<pre><code>    public boolean equals(Object obj) {
      if (obj == null)
          return false;
      if (obj == this)
          return true;
      if (obj.getClass() != getClass())
          return false;
      Person rhs = (Person) obj;
      return new EqualsBuilder().
          // if deriving: appendSuper(super.equals(obj)).
          append(name, rhs.name).
          append(age, rhs.age).
          isEquals();
    }</code></pre></li>
<li>Should be:
<ul>
<li>reflexive</li>
<li>symmetric</li>
<li>transitive</li>
<li>consistent</li>
</ul></li>
<li><a href="http://www.tutorialspoint.com/java/java_access_modifiers.htm">access</a>
<ul>
<li><code>private</code>
<ul>
<li><p>Methods, Variables and Constructors that are declared private <strong>can only be accessed within the declared class itself</strong>.</p></li>
<li><p>Private access modifier is the most restrictive access level. <strong>Class and interfaces cannot be private</strong>.</p></li>
<li><p>Variables that are declared private *can be accessed outside the class if public getter methods are present in the class*.</p></li>
</ul></li>
<li><code>package</code></li>
<li><code>protected</code>
<ul>
<li><p>Variables, methods and constructors which are declared protected in a superclass can be accessed only by the subclasses in other package or any class within the package of the protected members' class.</p></li>
<li><p>The protected access modifier cannot be applied to class and interfaces. Methods, fields can be declared protected, however methods and fields in a interface cannot be declared protected.</p></li>
<li><p>Protected access gives the subclass a chance to use the helper method or variable, while preventing a nonrelated class from trying to use it.</p></li>
</ul></li>
<li><code>public</code>
<ul>
<li><p>A class, method, constructor, interface etc declared public <strong>can be accessed from any other class</strong>. Therefore fields, methods, blocks declared inside a public class can be accessed from any class belonging to the Java Universe.</p></li>
<li><p>However if the public class we are trying to access is in a different package, then the public class <strong>still need to be imported</strong>.</p></li>
<li><p>Because of class inheritance, **all public methods and variables of a class are inherited by its subclasses**.</p></li>
</ul></li>
<li><a href="http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html">Awesome</a>:
<table class="table">
                                        <tbody><tr>
                                        <th markdown="1" id="h1">

Modifier
</th>

<pre><code>&lt;th markdown=&quot;1&quot; id=&quot;h2&quot;&gt;</code></pre>
Class
</th>

<pre><code>&lt;th markdown=&quot;1&quot; id=&quot;h3&quot;&gt;</code></pre>
Package
</th>

<pre><code>&lt;th markdown=&quot;1&quot; id=&quot;h4&quot;&gt;</code></pre>
Subclass
</th>

<pre><code>&lt;th markdown=&quot;1&quot; id=&quot;h5&quot;&gt;</code></pre>
World
</th>

<pre><code>&lt;/tr&gt;
&lt;tr&gt;
&lt;td markdown=&quot;1&quot; headers=&quot;h1&quot;&gt;</code></pre>
<code>public</code>
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h2&quot;&gt;</code></pre>
Y
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h3&quot;&gt;</code></pre>
Y
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h4&quot;&gt;</code></pre>
Y
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h5&quot;&gt;</code></pre>
Y
</td>

<pre><code>&lt;/tr&gt;
&lt;tr&gt;
&lt;td markdown=&quot;1&quot; headers=&quot;h1&quot;&gt;</code></pre>
<code>protected</code>
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h2&quot;&gt;</code></pre>
Y
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h3&quot;&gt;</code></pre>
Y
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h4&quot;&gt;</code></pre>
Y
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h5&quot;&gt;</code></pre>
N
</td>

<pre><code>&lt;/tr&gt;
&lt;tr&gt;
&lt;td markdown=&quot;1&quot; headers=&quot;h1&quot;&gt;</code></pre>
no modifier
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h2&quot;&gt;</code></pre>
Y
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h3&quot;&gt;</code></pre>
Y
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h4&quot;&gt;</code></pre>
N
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h5&quot;&gt;</code></pre>
N
</td>

<pre><code>&lt;/tr&gt;
&lt;tr&gt;
&lt;td markdown=&quot;1&quot; headers=&quot;h1&quot;&gt;</code></pre>
<code>private</code>
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h2&quot;&gt;</code></pre>
Y
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h3&quot;&gt;</code></pre>
N
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h4&quot;&gt;</code></pre>
N
</td>

<pre><code>&lt;td markdown=&quot;1&quot; headers=&quot;h5&quot;&gt;</code></pre>
N
</td>

<pre><code>&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt; </code></pre></li>
</ul></li>
<li><code>interface</code>
<ul>
<li>an interface is a group of related methods with empty bodies</li>
<li>Interfaces cannot be instantiated, but rather are implemented</li>
<li>One benefit of using interfaces is that they simulate multiple inheritance</li>
</ul></li>
<li><a href="http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html"><code>abstract</code></a>
<ul>
<li><p>An abstract class is a class that is declared abstract - it may or may not include abstract methods. Abstract classes <strong>cannot be instantiated</strong>, but they <strong>can be subclassed</strong>.</p></li>
<li><p>An abstract method is a method that is declared **without an implementation**</p></li>
<li><p>When an abstract class is subclassed, the subclass usually provides implementations for all of the abstract methods in its parent class. However, if it does not, the subclass must also be declared abstract.</p></li>
</ul></li>
<li>polymorphism</li>
<li>inheritance</li>
<li><code>static</code></li>
<li><p>dynamic binding</p></li>
</ul>
<h3 id="uml-class-diagram-ii">UML Class Diagram II</h3>
<ul>
<li><p>Class A depends on class B if A <strong>uses</strong> B in such a way that a change in B will effect A</p></li>
<li><p>Say A depends on B. Typically, then, B would appear as a parameter, return type, or local variable in a method of A.</p></li>
</ul>
<h2 id="march-4th-2013---recitation-6-uml">March 4th, 2013 - Recitation 6: UML</h2>
<ol style="list-style-type: decimal">
<li><p>Give one example UML each (not covered in class!) of a uni-directional association, a bi-directional association, and an association class. (We stopped just short of the association class in lecture on Feb 28, but look at the last three slides in the feb28-uml.pdf that was posted in Resources.) By writing minimal amount of code (class headers and fields only), show how the relationship information depicted by the UML shows up in the implementation.</p></li>
<li><p>For each of the following pairs/groups of classes, show the most appropriate relationship between them using UML (include multiplicities, and relationship classes for associations):</p>
<ol style="list-style-type: decimal">
<li><code>Document</code>-<code>Keyword</code> in a search engine</li>
<li><code>Friend-Friend</code> on Facebook</li>
<li><code>Entry-Contributor</code> on Wikipedia</li>
<li><code>Item-Seller-Bidder</code> on Ebay</li>
<li><code>Book-Author-Publisher</code> on Amazon</li>
</ol></li>
<li><p>You are on a project that is developing software to manage a hospital. In particular, you are working on a sub-system that will model the patient care aspect including doctors, patients, hospital rooms, and services for which patients are billed. Services include medical services such as x-rays, as well as room services such as bed, TV, etc.</p>
<p>Draw a UML class diagram of your model, with key attributes and methods for every class. Pay particular attention to making decisons about whether some entity should be an attribute of an object with values to differentiate between instances of the entity, or whether the entity deserves to be in its own class (fully typed). You should be able to argue for your decision either way.</p>
<p>Also, make sure you don't model relationship-specific data structures as attributes in either of the participating classes. Such data structures should only show up in the implementation, chosen according to the constraints of the language of implementation (e.g. choices in Java may differ from C++) and requirements of efficiency. (UML is implementation-language neutral).</p>
<p>Implement your model with outline of code including class headers, interfaces (if applicable) with method specifications, fields in all classes, method headers in all classes</p></li>
</ol>
<h2 id="march-5th-2013---lecture">March 5th, 2013 - Lecture</h2>
<ul>
<li><p>An <strong>association class</strong>is used to model an association between two classes.</p>
<ul>
<li>For example, if you had a <code>Company</code> and an <code>Employee</code> object, then you'd have a <code>Job</code> class to stand for the relationship.</li>
</ul></li>
</ul>
<h2 id="march-8th-2013---project-part-2-photo-album-design-and-implementation-ii">March 8th, 2013 - Project Part 2: Photo Album (Design and Implementation II)</h2>
<h3 id="dates">Dates</h3>
<ul>
<li>Posted Fri, Mar 8</li>
<li>GUI Storyboard and Work Split Document Due Wed, Mar 27, 11 PM</li>
<li>Complete Implementation and Test Cases Due Fri, Apr 12, 11 PM.</li>
</ul>
<h3 id="features">Features</h3>
<p>In Part 1, you built a simple view for your photo album. In this part, you will replace the simple view with a Graphical User Interface (GUI).</p>
<p>Your GUI will implement the following single-user paradigm, using session persistence:</p>
<ul>
<li><p>When the application starts, a user logs in with username. Password implementation is optional. It makes for a &quot;real&quot; scenario, but is irrelevant to the essence of the project.</p></li>
<li><p>There must be a special username <strong>admin</strong> that will take application to an administration sub-system. The <strong>admin</strong> user can do the following:</p>
<ul>
<li>List users</li>
<li>Create a new user</li>
<li>Delete an existing user</li>
</ul></li>
</ul>
<p>The rest of the specification below pertains to <strong>non-admin</strong> users only.</p>
<p>Once the user logs in successfully, all albums and photo information for this user from a previous session (if any) are loaded from disk. Initially, all the albums belonging to the user should be displayed. For each album, its name, the number of photos in it, the date of the oldest photo, and the range of dates (earliest and latest date) on which photos were taken. Use your discretion on how to show this additional information.</p>
<p>The user can then do the following:</p>
<p>Create albums</p>
<p>Delete albums</p>
<p>Rename albums</p>
<p>Open an album. Opening an album displays all photos, with their <em>thumbnail</em> images and captions, inside that album. Once an album is open the user can do the following:</p>
<ul>
<li>Add a photo</li>
<li>Remove a photo</li>
<li>Recaption a photo</li>
<li><p>Display a photo. Displaying a photo should fit the image in its display area, and should also show caption, date-time of capture, and all the tags.</p></li>
<li>Add a tag to a photo</li>
<li>Delete a tag from a photo</li>
<li>Move a photo from one album to another</li>
<li><p>Go through photos in album in sequence forward or backward (manual slideshow)</p></li>
</ul>
<p>Search for photos (Photos that match the search criteria should be displayed in a similar way to how photos in an album are displayed). Under this, you should provide the following specific features:</p>
<ol style="list-style-type: decimal">
<li>Search for photos by a date range.</li>
<li>Search for photos by tag type-value pairs. This should follow the same rules as the command line version, where not specifying the tag type implies it can match any tag type.</li>
</ol>
<p>There should be functionality to make an album out of the result of either of the above searches.</p>
<p>Whatever view you choose to implement, make sure that users have the power and the flexibility to get at all the information they want with as few clicks/selections as possible (usability), and are not overwhelmed with too much information all at once (scalability).</p>
<p>The user logs out at the end of the session. All albums and photo information for the user are stored to disk.</p>
<p>After a user logs out, the application is still running, allowing another user to log in.</p>
<p>There should be a way to quit the application <strong>safely</strong> at any time. Safely means that you should make sure that all updates that were made to the system in the current user's session are recorded correctly as required by the user.</p>
<p>In the application all errors and exceptions should be handled gracefully within the GUI. (The console should NOT be used for any input, output, or error.)</p>
<h3 id="gui-storyboard">GUI Storyboard</h3>
<p>Your first task is to design the interface in the form of a <strong>storyboard</strong>.</p>
<p>The storyboard is a sequence of screen diagrams that shows all paths of flow through the interface. Here's a <a href="storyboard.pdf">sample storyboard</a> for a calculator application that gives you an idea of what you should do. This is not a complete storyboard in that it does not show all possible screens that are in the UI it describes, nor does it necessarily show all possible transitions between screens. What it does show is how to draw screens, how to label screen components, how to draw transitions between screens, and how to label transitions.</p>
<p>It is important to have a first page that is an overview that shows all screens and all transitions between them, without any details of the components within the screens themselves. This is an overview that can give the complete picture in one shot. The rest of the storyboard will then draw each screen in detail.</p>
<p>Each screen must be drawn using some drawing package. **Screenshots that you take off a program WILL NOT be accepted.** In other words, there should be <strong>no program code</strong> written at this stage at all.</p>
<p>Each screen will represent one window of your GUI and will contain all the widgets that go into that screen - text fields, buttons, etc. Be as precise as you can about the selection and layout of the components in a screen. **You must LABEL each component with the Swing class of which it is an instance, as shown in the model storyboard.**</p>
<p>Each screen will show transitions to other screens and the events that trigger these transitions. When all is said and done, you will have effectively drawn up a storyboard of your entire GUI that shows all screens and all inter-screen transitions.</p>
<p><strong>Note</strong>: The title for each screen should be descriptive of what the screen does. The sample storyboard says &quot;Calculator&quot; for all titles, but for your storyboard, name every screen with an appropriate title. This can serve as the title to be displayed in the titlebar when you implement these screens in code.</p>
<p><strong>Special Note</strong>: Credit for the storyboard will be based on how well it anticipates (and determines) the implementation of the GUI. This portion of the grade for your storyboard will be given <strong>after</strong> you finish the implementation, and we can look at how useful your storyboard has been for your implementation.</p>
<h3 id="work-split-documentation">Work Split Documentation</h3>
<p>When you have finished designing the storyboard, you need to decide how to split the work of implementing all the windows. Implementing a window will also include all non-visual aspects associated with it, all event handling, the connections to the other parts of the GUI, and the connections to the control and model. The work split must be as equal as you can make it.</p>
<p>Type up the work split documentation (plain text or PDF, no other format will be accepted). Make a table with two columns: in one column list the name of the window to be implemented, and in the second, the team member who will implement it.</p>
<h3 id="gui-implementation-with-uml-javadocs-and-data-files">GUI Implementation (With UML, Javadocs and Data Files)</h3>
<p>Implement your GUI using Java AWT and Swing components <strong>only</strong>. (We will test with the standard JRE so if you use any external packages, your program will not run, and you will not get credit.) You must make sure your program can compile and run under Java 6.</p>
<p>Document every class you implement with Javadoc tags, and be sure to include authorship.</p>
<p>Extend the UML class diagram from Part 1 to include all the new classes you built in Part 2. In your UML diagram, include classes for all Java swing components that are used. Shade them as illustrated in this <a href="hangman_uml.png">Hangman UML diagram</a>.</p>
<p>For each class you built, show all public fields and methods in the UML representation.</p>
<p>Keep in mind that you will need classes that are not visually represented, but perform data-management functions, as well as broker between the visual classes and the backend. These should be in your UML as well.</p>
<p>**Load the application with some sample data of users, albums, and photos that can be used to test your code.** This data should be able to drive all the tests you list in the test report, as described in the <strong>Testing</strong> section that follows. Your program should be runnable without any of the data files specified above (except for whatever information is needed to log in the <strong>admin</strong> user.)</p>
<h3 id="testing">Testing</h3>
<p>Write down every test you performed or would have liked to perform on your photo album code, <em>including tests for robustness</em>. Write your test report with the following structure:</p>
<ul>
<li><p>List all the &quot;use cases&quot; of your application. A use case is any single request-response functionality that is implemented. For instance, creating an album is a use case.</p></li>
<li>For each use case:
<ul>
<li><p>Define the equivalence classes of tests for that use case, <em>including equivalence classes for error conditions</em>.</p></li>
<li><p>For each equivalence class, list all the test cases you used. The test case should list the data exactly as entered into the interface. For each test, either list (if it is a small set) or describe (if it is a large set) the expected result.</p></li>
</ul></li>
</ul>
<p>Write your test report in a spreadsheet called <strong>tests.xls</strong> (If you don't have a spreadsheet program on your computer, you can use Microsoft Excel at any of the campus computing labs, or use Google documents spreadsheet and export as Excel.)</p>
<p>Your spreadsheet should look like this:</p>
<pre><code>------------------------------------------------------------- ------------------------------------------- -----
**Group Members**: \&lt; your names\&gt;                                                                        
                                                                                                          
**Use Case 1**: \&lt;List the use case\&gt;                                                                     
**Equivalence Class 1**: \&lt;Describe the equivalence class\&gt;                                               
**Test Case**                                                 **Expected result**                         
\&lt;List the test input data\&gt;                                  \&lt;List/Describe the expected result\&gt;       
...                                                           ...                                         
**Equivalence Class 2**: \&lt;Describe the equivalence class\&gt;                                               
**Test Case**                                                 **Expected result**                         
...                                                           ...                                         
                                                                                                          
**Use Case 2**: \&lt;List the use case\&gt;                                                                     
...                                                           ...                                         ...
------------------------------------------------------------- ------------------------------------------- -----</code></pre>
<h3 id="mercurial-contents">Mercurial Contents</h3>
<h4 id="by-wednesday-march-27-11-pm">By Wednesday, March 27, 11 PM</h4>
<p>(The <strong>docs</strong> and <strong>data</strong> directories mentioned below should be created directly under the project, NOT under <strong>src</strong> or under any of the packages).</p>
<ul>
<li><p><strong>GUI Storyboard</strong>: The final form of your storyboard should be a PDF file called <strong>storyboard.pdf</strong>, which should be placed in the <strong>docs</strong> directory (where you put your javadoc documents for Part 1).</p></li>
<li><p><strong>Work Split Document</strong>: The final form of this document should be a plain text (.txt) or PDF file, called <strong>worksplit.txt</strong> or <strong>worksplit.pdf</strong>, and must be in the <strong>docs</strong> directory.</p></li>
</ul>
<h4 id="by-friday-apr-12-11-pm">By Friday, Apr 12, 11 PM</h4>
<ul>
<li><p><strong>GUI Implementation</strong>: Arrange your code elements in your GUI implementation to be consistent with how your arranged the model and control code in Part 1.</p></li>
<li><p><strong>UML</strong>: The complete UML class diagram (updated for this part) for the project should be a PDF file called <strong>uml2.pdf</strong>, placed in the <strong>docs</strong> directory.</p></li>
<li><p><strong>Javadocs</strong>: The complete Javadocs documentation should be generated and placed in the <strong>docs</strong> directory.</p></li>
<li><p><strong>Sample Data</strong>: Users, albums, and photos for testing, to be placed in a <strong>data</strong> directory.</p></li>
<li><p><strong>Test Cases</strong>: The <strong>tests.xls</strong> spreadsheet, to be placed in the <strong>docs</strong> directory.</p></li>
</ul>
<h3 id="grading-3">Grading</h3>
<p>Your project will be graded on the following, for 200 points:</p>
<pre><code>---------------------------------------------------------------------- --------
Category                                                               Points
UML + Javadocs + Storyboard                                            30
Features (listed in Features)                                          125
Robustness/Error Handling                                              15
Deployment (naming packages, doc and data directory with content)      5
Test Report                                                            25
Total                                                                  200
---------------------------------------------------------------------- --------</code></pre>
<p><strong>EXTRA CREDIT</strong>:</p>
<ul>
<li>(Up to <strong>25 points</strong>) for exceptional user interface features.</li>
</ul>
<p><strong>Penalties</strong> (up to 25 points) will be assessed on the following:</p>
<ul>
<li><p>Needing extra configuration on our part to test your project because you did not follow specifications: <strong>upto 5 pts</strong></p></li>
<li><p>Usability is poor such as roundabout ways to get at data, and/or confusing interface: <strong>upto 10 pts</strong></p></li>
<li><p>Lacks scalability i.e. doesn't display large amounts of data (e.g. many tens of photos or more) in a easily navigable way: <strong>upto 10 pts</strong></p></li>
</ul>
<h2 id="march-11th-2013---recitation-7-tablemodel-image-handling">March 11th, 2013 - Recitation 7: Table/Model, Image Handling</h2>
<ol style="list-style-type: decimal">
<li><p>UML Quiz</p></li>
<li><p>You will learn how to create a GUI application for a simple spreadsheet. You are to use javax.swing.JTable, javax.swing.table.TableModel, and javax.swing.table.DefaultTableModel. The contents of each cell may be either a floating point number or one of four simple formulas: =sumcol, =sumrow, =avgcol, =avgrow.</p></li>
<li><p>You will learn how to load, display, and resize images using javax.swing.Image, javax.swing.ImageIcon, javax.swing.JSlider, java.awt.BorderLayout, and javax.swing.JScrollPane.</p></li>
</ol>
<h2 id="march-28th-2013---recitation-8-testing-design-patterns">March 28th, 2013 - Recitation 8: Testing, Design Patterns</h2>
<ol style="list-style-type: decimal">
<li><p>Let <code>Tomorrow</code> be a function of three variables: <code>month</code>, <code>day</code>, and <code>year</code>. It returns the date of the next day that follows the given input date. You may assume that <code>year</code> is in the range 1901 through</p>
<ol style="list-style-type: decimal">
<li>Using equivalance classes and boundary values, determine the test cases you would use to test a software implementation of this function. Include robustness tests.</li>
</ol></li>
<li><p>A polynomial may be represented as a linked list as follows: for every term in the polynomial there is one entry in the linked list consisting of the term's coefficient and degree. (There will be exactly one term in any degree.) The entries are ordered according to ascending degrees, and zero-coefficient terms are not stored. An empty (zero) polynomial is represented by a linked list with no nodes in it.</p>
<p>For example, the following polynomial (the symbol '\^' is used to mean 'raised to the power'):</p>
<p>4<em>x</em><sup>5</sup> − 2<em>x</em><sup>3</sup> + 2<em>x</em> + 3</p>
<p>can be represented as the linked list of terms:</p>
<pre><code>      (3,0) -&gt; (2,1) -&gt; (-2,3) -&gt; (4,5)</code></pre>
<p>where each term is a (coefficient,degree) pair.</p>
<p>Now suppose there is a method that <strong>adds</strong> two polynomials and returns the result in a new polynomial - the input polynomials are not modified. You are asked to black-box test this method for correctness, using the equivalence classes/boundary values approach. Clearly specify how you will apply this approach to identify test cases, and write down each such test case pair of input polynomials. Also identify test cases for checking correct reporting of errors (robustness).</p></li>
<li><p>Draw a state diagram that models a user's shopping session at amazon.com, starting with a search. Show the UML for an implementation using the state design pattern including key fields and headers for the methods in the states.</p></li>
<li><p>Show how you would enhance the Singleton pattern to allow up to a maximum number of instances of an object. There should be a way for clients to recycle instances, i.e. when a client is finished with an instance, it gives it up, and this instance can be later dealt out in response to a new instance request.</p></li>
</ol>
<h2 id="march-29th-2013---assignment-3-web-discussion-groups-uml">March 29th, 2013 - Assignment 3 (Web Discussion Groups UML)</h2>
<p>You will work <strong>individually</strong> on this assignment. Read the <a href="http://www.cs.rutgers.edu/policies/academicintegrity/index.php?page=3">DCS</a> - you are responsible for this. In particular, note that **&quot;All Violations of the Academic Integrity Policy will be reported by the instructor to the appropriate Dean&quot;.**</p>
<p>Develop an object-oriented design and draw UML for web discussion groups (such as Google groups).</p>
<h4 id="discussion-groups">Discussion Groups</h4>
<p>The discussion groups are a part of a website of which a person first needs to be a user before they can participate in one or more groups.</p>
<ul>
<li>Each group has one or more members.</li>
<li>Members of a group can:
<ol style="list-style-type: decimal">
<li>post messages to the group</li>
<li>read messages posted by other members to the group sorted according to combinations of message author, thread, or date</li>
</ol></li>
<li><p>Each message is part of a discussion thread. It can be the initiating message for a new thread, or a response to a previous message in a thread</p></li>
<li>Users of the website can:
<ol style="list-style-type: decimal">
<li>create new groups</li>
<li>join an existing group as member</li>
<li>leave a group</li>
</ol></li>
<li><p>Every group has a single owner, who is initially the creator of the group. (The creator of a group automatically becomes its first member.)</p></li>
<li><p>Each group has one moderator, who is initially the creator of the group. Only a member can be a moderator.</p></li>
<li>Owners can:
<ol style="list-style-type: decimal">
<li><p>invite users to join their group by sending them an email invitation</p></li>
<li><p>invite a member (including self) to be the moderator - if the invitation is accepted, the new moderator replaces the current moderator</p></li>
<li><p>invite a member to take over ownership - if the invitation is accepted, the ownership is transferred to that member</p></li>
<li><p>delete the group</p></li>
</ol></li>
<li>Moderators can:
<ol style="list-style-type: decimal">
<li>Deny or pass through messages posted to the group by members</li>
<li>Resign as moderator by sending an email to the owner, at which point the owner becomes the moderator (by inviting self)</li>
</ol></li>
</ul>
<h4 id="uml">UML</h4>
<p>Choose the most appropriate representation for each entity in the model. (Entity here refers to class or interface.) Use interfaces and abstract classes as needed. In each class, decide what key attributes and methods are needed to flesh out the specification. Not all details are explicitly mentioned in the specification above, but must be filled in by inference. Such details include choice of attributes and their data types, choice of operations with parameters return values, and choice of access levels (public/protected/package/private) for attributes and operations.</p>
<p>Pay special attention to the relationships between entities. Remember, super-sub classes, and interface implementations are the strongest connections between entities, followed by associations, followed by dependencies. Make sure you are as specific as you can be with the multiplicities in associations, and whether an association is a plain old link or an aggregation or a composition, whether it is bidirectional, unidirectional or reflexive. Note: Every association is by definition bidirectional unless you explicitly show unidirectionality. Make sure you show multiplicities for all associations.</p>
<h4 id="supplement-to-the-uml">Supplement to the UML</h4>
<p>For each association, list the data structure (full type definition in Java) that will be used to implement that association, and name the class to which it will belong. You don't have to outline any class, just draw a table with two columns, one for the data structure type definition, and the other for the class in which it will be defined. (If it is a class that is neither end point of the association, then make this fact explicit in the table.)</p>
<h4 id="grading-4">Grading</h4>
<p>Your UML and supplement will be graded on completeness, appropriate choices in class/interface/abstract class for entities, appropriate choices in relationships between entities, and how well you have chosen data structures to implement associations. &quot;Appropriateness&quot; speaks to the best applicable/most precise design choices based on all the object-oriented design issues we have covered in class, flexibility (how easy it is to use your design for a range of functionality), extensibility (how easily your design can be extended to add more capabilities), maintainability (how easy it is to fix problems that may be arise in implementation). Not all of these may apply with equal importance (every model is different) but you want to use this as a checklist against your design to spot, and correct obvious flaws.</p>
<h4 id="submission-instructions-1">Submission Instructions</h4>
<p>Submit a single PDF file, called webgroups.pdf, to Sakai. (Whatever software you use to draw the diagrams/write text, you MUST convert to PDF.) The PDF document should have the UML as well as the supplementary table of data structures. If you have trouble fitting the UML in one page, draw the UML with only the class names and relationships between them on one page, and then on other pages, draw the details for each entity. Scanned hand-drawn and hand-written submissions will NOT be accepted.</p>
<h2 id="april-1st-2013---recitation-9-multithreading-android">April 1st, 2013 - Recitation 9: Multithreading, Android</h2>
<ol style="list-style-type: decimal">
<li><p>Use threads to implement a stop watch that displays, *once every five seconds*, the minutes and seconds that have passed since it was started. The display should be in the form <code>mm:ss</code> for minutes and seconds. When the clock reaches 15 minutes, it should wrap back and start at 0 minutes and 0 seconds. The user should be able to stop the watch at any time. Write the complete code for the application. (Not the most accurate stop watch, but the model is useful for animations in which slight inaccuracies in time would not be detrimental.)</p></li>
<li><p>Write an Android app that can accept an order to make a sub. Have checkboxes to select (or unselect) items to add (lettuce, tomato, etc.) Have combo boxes or equivalent to select one out of many (exclusive) options like the type of cheese to put in the sub. When the user confirms the order (via a button), display a message in a text area that lists the sub contents. Your UI doesn't have to be pretty - just make it work correctly.</p></li>
</ol>
<h2 id="april-2nd-2013---lecture-android-development">April 2nd, 2013 - Lecture: Android Development</h2>
<p>This document points you to the appropriate developer resources that describe how to set up Eclipse for Android development on your personal computer. It also points you to resources that show how to create a mobile Android device emulator for testing your application in Eclipse, as well as how to install and test your application on an Android smartphone. Written by Sesh Venugopal, Rutgers University. For CS 213 Spring 2013.</p>
<p>It is assumed that you have already installed Java and Eclipse on your machine before you do the Android setup. (Java and Eclipse are already available on the ilab machines.)</p>
<h3 id="android-sdk">Android SDK</h3>
<h4 id="step-1-download-the-sdk">Step 1: Download the SDK</h4>
<p>The first thing you will need to do is download the Android SDK (software development toolkit), which has all the tools you will need to develop Android programs.</p>
<p>Go to <a href="http://developer.android.com/sdk/index.html">Get the Android SDK</a> On that page, you will see USE AN EXISTING IDE toward the lower half. Expand it, and you'll see this:</p>
<p>I am on a Mac, so it shows up a Mac download button. If you are on Windows, you should a Windows download button. Click on the button, agree to the terms, then download.</p>
<ul>
<li><p>For the Mac, you will download a zip file called <strong>android-sdk_r21.0.1-macosx.zip</strong></p></li>
<li><p>For Windows, you will download an installer file, <strong>installer_r21.0.1-windows.exe</strong></p></li>
</ul>
<p>(r21.0.1 is the latest version as of this writing).</p>
<h3 id="step-2-set-up-the-sdk">Step 2: Set up the SDK</h3>
<p>The next phase is to install the ADT for Eclipse.</p>
<h3 id="adt-for-eclipse">ADT for Eclipse</h3>
<p>ADT stands for Android Development Toolkit. It is a plug in for Eclipse that comes with a full set of tools to build, test, and export Android apps to the Android market. To plug the ADT into Eclipse, go to <a href="http://developer.android.com/sdk/installing/installing-adt.html">Installing the Eclipse</a>, and execute the following two steps.</p>
<h4 id="step-1-download-the-adt-plugin">Step 1: Download the ADT Plugin</h4>
<p>The first thing you will need to do is download the Android SDK (software development toolkit), which has all the tools you will need to develop Android programs.</p>
<p>Go to Get the Android SDK On that page, you will see USE AN EXISTING IDE toward the lower half. Expand it, and you'll see this:</p>
<p>I am on a Mac, so it shows up a Mac download button. If you are on Windows, you should a Windows download button. Click on the button, agree to the terms, then download.</p>
<ul>
<li><p>For the Mac, you will download a zip file called android-sdk_r21.0.1-macosx.zip</p></li>
<li><p>For Windows, you will download an installer file, installer_r21.0.1-windows.exe</p></li>
</ul>
<h4 id="step-2-point-the-adt-to-the-sdk">Step 2: Point the ADT to the SDK</h4>
<ul>
<li>Follow the instructions. On my Mac, I unpacked the file, moved the resulting directory to directly under my home directory, and renamed it as android-sdk-macosx. Here are the contents of this directory:</li>
</ul>
<h3 id="adding-platforms-and-packages">Adding Platforms and Packages</h3>
<p>An Android platform is basically a version of the Android API on which you can run your app.</p>
<p>Since there are so many Android devices on the market, when you build an app, you need to know whether you are building for the largest possible user base, or for a specific subset of devices. For instance, you might build a simple app that you want to target to as many users as possible. In this case you would want to build your app for the earliest possible platform that will support its features, say, Android 2.3.3. Or, you might want to build a sophisticated app that can only be run on tablets, in which case you will need to go with a platform that supports tablets, such as Android 3.2.</p>
<p>A platform is tied to a certain revision of the SDK tools, and before you install a newer platform, you need to update the SDK tools to the revision required by the platform. For instance, the Android 4.2 platform needs the SDK tool revision r20 or higher. The Android 3.2 platform needs SDK tool revision r12 of higher.</p>
<p>Once you have identified which platforms you want to install, it is an easy matter to do it in Eclipse, with the Android SDK Manager.</p>
<h3 id="downloading-platforms-and-sdk-tools-with-sdk-manager">Downloading Platforms and SDK Tools with SDK Manager</h3>
<p>After plugging in the ADT into Eclipse, when you start Eclipse, you should see a set of extra icons in the task bar at the top.</p>
<p>Clicking on the SDK Manager icon brings up this window:</p>
<p>The manager displays all available versions of the platforms. Here I have expanded and highlighted the versions that I installed: 4.2, 3.2, and 2.2 (each of these is mapped to an API level.) I have superimposed a snapshot of my filesystem where you see the corresponding platform directories under android-mac-osx/platforms. If I were to expand any of the other versions (such as Android 4.1.2), it would show nothing installed. Also notice at the top that the SDK tools version r21 is installed.</p>
<p>Now say I wanted to install Android 2.3.3. (The expansion of that version in the SDK shows it is not installed):</p>
<p>I can install all packages under Android 2.3.3 by clicking on the checkbox to its left. But here, I am choosing to install only the SDK Platform (required at minimum), and Google APIs (required if you are going to use Google tools such as maps), so I check only these two:</p>
<p>Clicking on the &quot;Install 2 packages...&quot; button brings up this dialog:</p>
<p>Choose &quot;Accept all&quot; and click &quot;Install&quot;. After installation, you should see this in the SDK manager:</p>
<h3 id="creating-an-emulator">Creating an Emulator</h3>
<p>When you write an app, you can test it on emulators for various device sizes and pixel densities so you now that it works well on small and big phones, with varying degrees of pixel resolution. You can set up emulators using the Android Virtual Device Manager, shown earlier:</p>
<p>The device manager allows you to create an emulator according to need. When you click on the icon, you see a wizard to create an emulator, or to edit an existing emulator, shown on the left in the following figure. Let's create a new emulator, by clicking on the <strong>New...</strong> button in the right hand bar, which brings up a create wizard, shown on the right.</p>
<p>The important fields here are &quot;Device&quot; and &quot;Target&quot;, at the top. If you pull down the &quot;Device&quot; choices you will see a list of &quot;skins&quot;, corresponding to devices of various sizes and densities. The following table, from the page <a href="http://developer.android.com/guide/practices/screens_support.html">Supporting Multiple</a> of the Android documentation site:</p>
<p>The &quot;Device&quot; pull down list in the new AVD creator lists many of these skins. I generally pick HVGA (320 x 480) (second row, second column), which is for a normal screen, medium density, with potentially the broadest reach in terms of ownership.</p>
<p>The other important field, &quot;Target&quot;, should list all the APIs installed. The list will also include Google APIs, which you would choose if you were to incorporate, say, Google Maps. I picked Android 2.3.3 as the target.</p>
<p>Leaving all other fields at their default settings, here's the configuration, to the left, and the resulting emulator list, to the right:</p>
<h3 id="writing-a-simple-app">Writing a Simple App</h3>
<p>You are ready to start writing Android apps! Here's a simple &quot;hello world&quot; app to get you started.</p>
<h4 id="creating-an-android-project">Creating an Android Project</h4>
<p>When you enter Hello World for the application name, the wizard will automatically fill in HelloWorld for the project name, and com.example.helloworld for the package name - see the filled in wizard on the right. The yellow exclamation point next to the package name is for the warning at the top of the window.</p>
<p>The next three fields are pull downs for various SDK settings. The first one is the lowest SDK version on which this app will run, which we can leave at the default setting of Android 2.2. The next is the target SDK against which the app will be tested. Since we created a virtual device earlier targeting 2.3.3, this is what we pick here. The app will be compiled with the latest version of the compiler, which is 4.2.</p>
<p>The last field is a color theme that will be applied to the application. Again, we can leave it at the default.</p>
<p>All of these settings can be changed later - we'll see how after we write up the app.</p>
<p>Clicking next takes you to another settings window, where you can leave things as they are.</p>
<p>Clicking next again takes you to a window that can be used to choose a launcher icon. This icon will appear when the user lists all apps on their device. The default icon is the Android, which we will leave in for this application. Note that the window shows several versions of the icon, one for each of four screen resolutions: ldpi, mdpi, hdpi, and xhdpi. If you were to make your own icon, you will need to make four versions. Typically you would make one version, usually the mdpi, and then scale it down or up for the other versions.</p>
<p>Clicking next presents a create activity window. You can leave the selection at Blank Activity.</p>
<p>Clicking next asks for the name of the activity class to create. Enter HelloWorld for the name, and main for the layout. Leave Navigation type at the default setting of &quot;None&quot;.</p>
<p>Click next. If you see a window about a missing dependency, click on the &quot;Install/Upgrade&quot; button and carry out the installtion process.</p>
<p>Click Finish.</p>
<h4 id="app-project">App Project</h4>
<p>In the left hand pane is the package explorer where you see the HelloWorld project. It has several folders, one of which is res (for &quot;resources&quot;). Under res is a folder called layout, which holds an XML file called main.xml. (Recall that we had named the layout &quot;main&quot; in the project wizard's activity class window, toward the end of the previous section.)</p>
<p>The editor is in the right pane, with the main.xml file open in &quot;Graphical Layout&quot; form (see the tab at the bottom left corner of the pane). This is pretty much what the app would look like when it's launched. So let's go ahead and run the app, then we'll come back to take a tour of the app's code, and some of the immediately relevant aspects of the project's framework.</p>
<h4 id="running-the-app">Running the App</h4>
<p>Right click on the HelloWorld project folder name in the package explorer, then choose &quot;Run As&quot;, and &quot;Android Application&quot;. This should start up the emulator which we have created earlier, called &quot;hvga&quot;. This will take a few moments, and after the emulator starts running, it will set itself up and eventually show the app, which is the leftmost picture in the following set of images:</p>
<p>You may have noticed that the layout of the app while running in the emulator is identical to the graphical layout of the main.xml layot file shown in Eclipse.</p>
<p>The emulator provides basic navgiational capability, as well as a hardware search button. The middle image above shows the home screen, and the rightmost shows all the apps on the emulated device. (From where the Hello World app can be launched, of course - observe the Android icon used as the launcher icon, because we set it up that way in the project creation process.)</p>
<h2 id="april-22nd-2013---recitation-12-multithreading-design-patterns">April 22nd, 2013 - Recitation 12: Multithreading, Design Patterns</h2>
<ol style="list-style-type: decimal">
<li><p>Suppose you use a search engine to search for a word or phrase that results in a match with a large number (hundreds) of web pages. However, the browser will only display a list of n (some variable parameter) page links in one screenful. Implement a multi-threaded program with one thread for the browser display, and another for the search engine, and have the search engine deal out hits in batches of the max size the browser can display in one screenful. You may assume that a method called fetch has already been written in the search engine to fetch the next batch of hits, returned as a list of URL strings.</p>
<pre><code>public class Searcher implements Runnable {
      private Request req;   // search request
      private Buffer buf;    // to store hits for display
      public Searcher(Request req, Buffer buf) {
         this.req = req;
         this.buf = buf;
         new Thread(this).start();
      }
      public void run() {
         while (true) {
            while ((List hits = fetchNext(req)) != null)  { // more
      results from fetch
               buf.put(hits);
         }
      }
   }

   public class Displayer implements Runnable {
      private Buffer buf;
      public Displayer(Buffer buf) {
         this.buf = buf;
         new Thread(this).start();
      }
      public void run() {
         while (true) {
            display(buf.get());
         }
      }
   }

   public class Buffer {
      List hits;
      boolean available = false;
      public synchronized void put(List hits) {
         while (available) {
            try {
                wait();
            }
            catch (Exception e) { }
         }
         available = true;
         this.hits = hits;
         notifyAll();
      }

      public synchronized List get() {
         while (!available) {
            try {
                wait();
            }
         catch (Exception e) { }
      }
      available = false;
      notifyAll();
      return hits;
   }</code></pre></li>
<li><p>In class you saw how one prime producer synchronized with one prime consumer. Rewrite the <code>PrimeCentral</code> class with appropriate synchronization to handle 3 producers and 1 consumer. For a given bound (max number up to which primes need to be computed), each producer will generate primes for a third of the range 2..bound. (So, for instance, if bound is 9000 then the first producer will generate primes between 2 and 3000, the second between 3001 and 6000, and the third, between 6001 and 9000). The consumer should be able to get at any available prime in any of the three ranges. Make sure that you do not over-synchronize, i.e. if a consumer is trying to get at a prime in one of the ranges, a producers that may be attempting to put a prime in one of the other ranges should not be locked out.</p></li>
<li><p>You are asked to implement an application that can plot graphs of mathematical functions, each function being of the form <code>y = f(x)</code>. While there may be a choice of functions that can be plotted, only one function is plotted at a time on a given 2-D screen.</p>
<p>How would you use the <code>Template Method</code> design pattern to build your code? Write the outline of each class in your design, including relevant fields, constructors, and methods - pick any two specific mathematical functions to demonstrate the pattern.</p>
<ul>
<li><p>The abstract class hosting the template method (NOT abstract) and the hook method (abstract):</p>
<pre><code>public abstract class Plotter {

   ... // constructor and methods to set up and manage drawing objects

   public void draw(double[] xlist) { // template method, NOT abstract
        ...  // set up graphing tools
        for (int i=0; i &lt; xlist.length; i++) {
            double y = computeY(xlist[i]);
        }
   }

   protected abstract double computeY(double x);   // hook method
}</code></pre></li>
<li><p>A specific line plotter, using the function of the form <code>y = mx + b</code></p>
<pre><code>public class LinePlotter extends Plotter {

   double slope, yIntercept;

   public LinePlotter(double double slope, double yIntercept) {
       this.slope = slope; this.yIntercept = yIntercept;
   }      

   protected double computeY(double x) {  // implement hook 
       return slope*x + yIntercept; 
   }
}</code></pre></li>
</ul></li>
</ol>
<h2 id="april-26th-2013---final-exam-study-guide">April 26th, 2013 - Final Exam Study Guide</h2>
<h3 id="object-oriented-design-with-java.">Object-Oriented Design with Java.</h3>
<h4 id="interfaces">Interfaces</h4>
<ul>
<li><p>An abstract type that is used to specify an interface that clases must implement.</p></li>
<li>Declared using the <code>interface</code> keyword.</li>
<li>May contain method signature and constant declarations.</li>
<li>May not be instantiated.</li>
<li><p>*A class that implements and interface must implement all of the methods described in the interface or be an abstract class.*</p></li>
<li>Can be used to simulate multiple inheritance.</li>
<li>An interface can extend any number of interfaces.</li>
<li>An interface may not implement an interface.</li>
<li>An interface is <em>generally</em> public.</li>
<li><p>An interface defines a new type name that is tracked by the compiler.</p></li>
<li><p>All fields in an interface are implicity <code>public</code>, <code>static</code>, and <code>final</code>.</p></li>
<li>All methods in an interface are implicity <code>public</code> and <code>abstract</code>.</li>
<li><p>When a class implements an interface, it *must implement every single method* that is prescribed in the interface.</p></li>
<li><p>An interface may be generic.</p>
<pre><code>public interface Comparable&lt;T&gt; {
    int compareTo(T o);
}</code></pre></li>
</ul>
<h4 id="inheritance">Inheritance</h4>
<ul>
<li>A class that derived from another class is called a <em>subclass</em>.</li>
<li><p>The class from which the subclass is derived is called the <em>superclass</em>.</p></li>
<li><p>Except for <code>Object</code>, which has no superclass, every class has one and one only direct superclass (single inheritance).</p></li>
<li><p>In the absence of any other explicit superclass, every class is implicitiy a subclass of <code>Object</code>.</p>
<ul>
<li>From <code>Object</code>, every Java class has, and you have likely seen,
<ul>
<li><code>equals()</code> - compares address of objects</li>
<li><code>toString()</code> - returns address of object</li>
<li><code>hashCode()</code> - returns the hash code value for object</li>
</ul></li>
</ul></li>
<li><p>The design aspect of inheritance is to model the &quot;is a&quot; relationship between objects.</p>
<ul>
<li>A car is a motor vehicle.</li>
<li>A motor cycle is a motor vehicle.</li>
<li>A colored point is a point.</li>
<li>A zebra is an animal.</li>
</ul></li>
</ul>
<h4 id="abstract-classes-1">Abstract classes</h4>
<ul>
<li>An abstract class is a class that is declared by <code>abstract</code>.</li>
<li>It may or may not include abstract methods.</li>
<li><p>*Abstract classes may not be instantiated, but they can be subclassed.*</p></li>
<li><p>Unlike interfaces, abstract classes *may contain values that are not static and final<em>, and they </em>may contain implemented methods.*</p></li>
<li><p>When several classes have a common conceptual foundation they can be <strong>generalized</strong> into an <code>abstract</code> superclass.</p></li>
<li>In Java, a class is defined <code>abstract</code> in the class header.</li>
<li>An <code>abstract</code> method is one that has no implementation.</li>
<li><p>An <code>abstract</code> class may have <em>zero or more</em> <code>abstract</code> methods.</p></li>
</ul>
<h4 id="polymorphism">Polymorphism</h4>
<ul>
<li><p>The ability to create a variable, function, or object that has more than one form.</p></li>
<li><p>Used to implement a style of programming called <em>message-passing</em> in the literature.</p></li>
<li><p>Dynamically binding to same functionality in classes at different levels of an inheritance hierarchy using a &quot;least common denominator&quot; type is known as <strong>inheritance polymorphism</strong>.</p></li>
</ul>
<h3 id="uml-1">UML</h3>
<ul>
<li><p>UML stands for Unified Modeling Language, which is a mainly graphical notation used to express object-oriented design.</p></li>
<li><p>There are three kinds of UML diagrams that are most useful in practice:</p>
<ul>
<li><p><strong>Class interaction diagram</strong>, used to show classes and the relationships between them.</p></li>
<li><p><strong>Sequence diagram</strong>, used to show sequences of activity when methods are invoked on classes.</p></li>
<li><p><strong>State diagram</strong>, used to represent state based designs.</p></li>
</ul></li>
</ul>
<h4 id="class-diagrams">Class diagrams</h4>
<ul>
<li>The class diagram is the main building block of OO modelling.</li>
<li><p>It is used both for general conceptual modelling and for systematics.</p></li>
<li>Classes contain three parts:
<ol style="list-style-type: decimal">
<li>The upper part holds the name of the class</li>
<li>The middle part contains the attributes of the class.</li>
<li>The bottom part gives the methods or operations the class can take or undertake.</li>
</ol></li>
<li><p>To specify the visibility of a class member, these are the notations used before the name:</p>
<pre><code>+   Public
-   Private
#   Protected
~   Package
/   Derived
_   Static</code></pre></li>
<li><p>UML allows you to specify a relationship of class members using external links.</p>
<pre><code>Association:    --------+&gt; // solid line,  filled triangle
Aggregation:    -------&lt;=&gt; // solid line,  empty diamond
Composition:    -------&lt;+&gt; // solid line,  filled diamond
Generalization: --------|&gt; // solid line,  empty triangle
Dependancy:     - - - - |&gt; // jagged line, empty triagnle </code></pre></li>
<li><p>To specific the multiplicity of an association of at least two related classes is done with the <strong>multiplicity</strong> entity, which is defined as follows:</p>
<pre><code>0..1    No instances, or one instance (optional, may)
1       Exactly one instance
0..*    Zero or more instances (also *)
1..*    One or more instances (at least one)</code></pre></li>
</ul>
<h5 id="association">Association</h5>
<ul>
<li>An <em>association</em> is a family of links.</li>
<li>They are representing with simply a line.</li>
<li>It can be named.</li>
<li>At the both ends of the line, the members can have role names.</li>
<li><p>The four types are bi-directional, uni-directional, aggregation, and reflexive. (The first two are the most common.)</p></li>
<li><p>*Association defines a relationship between classes of objects that allows one object instance to cause another to perform an action on its behalf.*</p></li>
<li><p>&quot;Sending a message&quot; or &quot;invoking a method&quot; or &quot;calling a member function.&quot;</p></li>
<li><p>An &quot;owns a&quot; relationship.</p>
<pre><code>1     Owns     1..1
------------------&gt;
Owner        Owned</code></pre></li>
<li><p>Directed associations happen when the <code>Owner</code>, in this case, knows about what it <code>Owns</code>, but the <code>Owned</code> does not &quot;know&quot; about its <code>Owner</code>.</p></li>
<li><p>At time, an association between two classes itself has properties, an <strong>association class</strong> is used to model these properties.</p>
<ul>
<li>This is represented by a jagged line stemming from where one might usually put the title of the association.</li>
</ul></li>
</ul>
<h5 id="aggregation">Aggregation</h5>
<ul>
<li><p>This differs from ordinary composition in that it does not imply ownership.</p></li>
<li><p>In composition, when the owning object is destroyed, so are the contained objects.</p></li>
<li>In aggregation, this is not <em>necessarily</em> true.</li>
<li><p>For example, if a University closes, the departments it owns, like Computer Science, will likely close along with it. On the other hand, the Professors and Students will still exist.</p></li>
<li>A &quot;has a&quot; relationship.</li>
<li><p>Represented with an empty diamond and a line, an unfilled diamond.</p>
<pre><code>Pond &lt;=&gt;-------------- Duck
        0..1      0..*</code></pre></li>
<li><p>Good examples of aggregation are states aggregating counties that aggregate townships, police stations aggregate police officers, and directories aggregate files.</p></li>
</ul>
<h5 id="composition">Composition</h5>
<ul>
<li>This is a stronger variant of the &quot;owns a&quot; relationship.</li>
<li><p>Composition usualy has a strong <em>life cycle dependancy</em> between instances of the container class and instances of the contained classes.</p></li>
<li>It is a way to combine simple objects into more complex ones.</li>
<li>Compositions are a criticle building block of basic data structures.</li>
<li><p>Example: An automobile is composed from objects including steering wheel, seat, gearbox, and engine.</p></li>
<li><p>Represented with a filled diamond.</p>
<pre><code>Car&lt;+&gt;----------Carburetor
      0..1  1..1</code></pre></li>
<li><p>Alternatively, one can represent composition by nesting a class within the class representation.</p></li>
</ul>
<h5 id="generalization">Generalization</h5>
<ul>
<li><p>The generalization relationship (&quot;is a&quot;) indicates that one of the two related classes is considered to be a specialized form of the other and a superclass is considered a generalization of the subclass.</p></li>
<li><p>It means that any instances of the subclass is also an instance of the superclass.</p></li>
<li><p>The generalization relationship is also known as the inheritance or &quot;is a&quot; relationship.</p></li>
<li>This is almost synomymous with interface implementation.</li>
<li><p>The representation in UML is a hollow triangle.</p>
<pre><code>Student ----------|&gt; Person</code></pre></li>
<li><p>A good example of generalization is shape is a generalization of a polygon, which is a generalization of rectangles and triangles.</p></li>
</ul>
<h5 id="dependancy">Dependancy</h5>
<ul>
<li><p>Class <code>A</code> depends on <code>B</code> if <code>A</code> <em>uses</em> <code>B</code> in such a way that a change in <code>B</code> will effect <code>A</code>.</p></li>
<li><p>Say <code>A</code> depends on <code>B</code>. Typically, <code>B</code> would appear as a parameter, return type, or local variable in a method of <code>A</code>.</p></li>
</ul>
<h4 id="state-diagram.">State diagram.</h4>
<ul>
<li><p>A state diagram is a type of diagram used in computer science and related fields to describe the behavior of systems.</p>
<ul>
<li><p>State diagrams require that the system described is composed of a finite number of states.</p>
<ul>
<li>Sometimes this is the case, in other there is a reasonable abstraction.</li>
</ul></li>
<li><p>Many forms of state diagrams exists, which different slight and have different semantics.</p></li>
</ul></li>
<li><p>The state diagram in the Unified Modelling Language is essentially a Harel statechart with standardized notation.</p>
<ul>
<li><p>This can be used to describe many systems, from computer programs to business processors.</p></li>
<li><p>In UML 2 the name has been changed to <em>State Machine Diagram</em>.</p></li>
</ul></li>
<li><p>The basic notational elements that can be used to make a diagram are:</p>
<ul>
<li>Filled circle, pointing to the initial state.</li>
<li><p>Hollow circle, containing a smaller filled circle indicating the final state.</p></li>
<li><p>Rounded rectangle, denoting a state. Top of the rectagnle contains a name of the state.</p>
<ul>
<li>Can contain a horizaontal line in the middle, below which the activities that can be done are indicated.</li>
</ul></li>
<li><p>Arrow, denoting transtion. The name of the event (if any) causing this transition labels the arrow bodyu.</p>
<ul>
<li><p>A guard expression may be added before a &quot;/&quot; and enclosed in square-brackets. Ex: <code>eventName[guardExpression]</code>.</p></li>
<li><p>If an action is performed during this transition, it is added to the label following a &quot;/&quot;.</p></li>
</ul></li>
<li><p>Thick horizontal line with wither \$ x 1 \$ lines entering and 1 line leaving or 1 line entering and <em>x</em> &gt; 1 lines leaving.</p>
<ul>
<li>These denote join/fork respectively.</li>
</ul></li>
</ul></li>
</ul>
<h3 id="design-patterns">Design patterns</h3>
<h4 id="model-view-controller-mvc">Model-View-Controller (MVC)</h4>
<ul>
<li><p>A <strong>model</strong> notifies its associated views and controllers when there has been a change in its state.</p></li>
<li><p>A <strong>view</strong> requests from the model the information that needs to generate an output representation to the user.</p></li>
<li><p>A <strong>controller</strong> can send commands to associated view to change the view's presentation of the model.</p></li>
</ul>
<h4 id="state-behavioral">State (Behavioral)</h4>
<ul>
<li><p>Allow an object to change its behavior when its internal state changes.</p></li>
<li><em>The &quot;object&quot; is a subclass of an abstract class, polymorphism.</em></li>
<li><p>Context (client code) has a state object that is one of the concrete instances.</p></li>
<li><p>The request method executes handle on this concrete instance dynamically binding the appropriate class method.</p>
<pre><code>+-----------+          +-----------+
|  Context  |&lt;&gt;--------|   State   |
+-----------+          +-----------+
| request() |          | handle()  |
+-----------+          +-----------+
        |                     ^
        |                     |
+--------------+       +------+--------+-- ...
|state.handle()|       |               |
+--------------+  +----------------+ +----------------+
                  |ConcreteState A | |ConcreteState B |
                  +----------------+ +----------------+
                  | handle()       | | handle()       |
                  +----------------+ +----------------+</code></pre></li>
<li><p>Psuedocode</p>
<pre><code>class AbstractTool is
     function moveTo(point) is
         input:  the location point the mouse moved to
         (this function must be implemented by subclasses)

     function mouseDown(point) is   
          input:  the location point the mouse is at
          (this function must be implemented by subclasses) 

     function mouseUp(point) is
          input:  the location point the mouse is at
          (this function must be implemented by subclasses)</code></pre></li>
</ul>
<h4 id="singleton-creational">Singleton (Creational)</h4>
<ul>
<li><em>Ensure that a class has only one object or instance.</em></li>
<li>Only one point of global access.</li>
<li><p>The single private constructor ensures that an instance of the class cannot be created with <code>new</code>.</p>
<pre><code>+----------------------+
|       Singleton      |
+----------------------+
|- Singleton()         |
|+ static getInstance()|
+----------------------+</code></pre></li>
</ul>
<h4 id="iterator">Iterator</h4>
<ul>
<li><p>An iterator is *used to traverse a container and access the containter's elements.*</p></li>
<li>This <em>decouples algorithms from containers.</em></li>
<li><p>The alogirthm <code>SearchForElement</code> can be implemented generally using a specific type of iterator rather than implementing container-specific algorithm.</p></li>
<li><p>This allows <code>SearchForElement</code> to be used on any container that supports the required type of iterator. &gt; Provide a way to access the elements of an aggregate object &gt; sequentially without exposing its underlying representation.</p></li>
<li><p>Java has an <code>Iterator</code> interface that the Collections should implement in order to traverse the collection.</p></li>
<li>Classic implementations were using the <code>next()</code> method.</li>
<li><p>Java also supports <code>hasNext()</code> and <code>remove()</code> methods.</p>
<pre><code>public interface Iterator&lt;T&gt; {
    boolean hasNext();
    T next();
    void remove();
}</code></pre></li>
<li><p>Access the contents of a collection without exposing its internal representation.</p></li>
<li>Suppoer overlapping multiple traversals.</li>
<li>Provide a uniform interface for traversing different collections.</li>
<li><p>Polymorphic iteration.</p>
<pre><code>                      +-------------------+
                      |      Iterator     |
                      +-------------------+
                      |hasNext()          |
                      |next()             |
                      +-------------------+
                                 ^
                                 |
+---------------+     +-------------------+
|   Collection  |     | ConcreteIterator  |
+---------------+     +-------------------+
| itertator() o |----&gt;|hasNext()          |
+-------------|-+     |next()             |
              |       +-------------------+
+-------------|----------------+
| return new ConcreteIterator()|
+------------------------------+</code></pre></li>
</ul>
<h4 id="template-method">Template Method</h4>
<ul>
<li>Implements a set sequence of actions</li>
<li><p>Each action is a method, some of which are abstract because their implementation is specific to concrete subclasses.</p></li>
<li>The abstract metods are referred to as &quot;hook&quot; methods.</li>
<li><em>The template method is hosted in an abstract class.</em></li>
<li>The template method itself is <em>not abstract</em>.</li>
<li><p>Each specific algorithm can then extend this abstract host class, and provide its own specific version of the hook method.</p>
<pre><code>+-------------------+   +--------+  
|   Template Host   |   | . . .  |
+-------------------+   | hook1()| // Note: This is the method
| templateMethod() o----| . . .  | // and it is non-abstract
| hook1()           |   | hook2()|
| hook2()           |   | . . .  |
+-------------------+   +--------+
    ^
    |
+-------------------+
|   ConcreteClass   |
+-------------------+
| hook1()           |
| hook2()           |
+-------------------+</code></pre></li>
<li><p>In software engineering, the <em>template design pattern</em> is a behavioral design pattern that defines the program skeleton of an algorithm in a method, called the <em>template method</em>, which defers some steps to subclasses.</p>
<ul>
<li>It lets one redefine certain steps of an algorithm without changing the algorithms structure.</li>
</ul></li>
<li><p>In the template method of this design pattern, one or more algorithms can be overridden by subclasses to allow differing behaviors enusuring that the overarching algorithm is still followed.</p>
<ul>
<li><p>In object-oriented programming, first a class is created that provides the basic steps of an algorithm design.</p></li>
<li>These steps are implemented using abstract methods.</li>
<li><p>Later on, subclasses change the abstract methods to implement real actions.</p>
<ul>
<li>Thus, the general algorithm is saved in one place but the concrete steps may be changed by subclasses.</li>
</ul></li>
</ul></li>
<li><p>The template method pattern thus manages the larger picture of task semantics, and more refined implementation details of selection and sequence of methods.</p>
<ul>
<li><p>This larger picture calls abstract and non-abstract methods for the task at hand.</p></li>
<li><p>The non-abstract methods are completely controlled by the template method, but the abstract methods, implemented by subclasses, are implemented by the concrete subclasses.</p>
<ul>
<li>These are called &quot;hooks&quot;</li>
</ul></li>
<li><p>The template method is not abstract!</p></li>
</ul></li>
</ul>
<h3 id="black-box-unit-testing">Black-box Unit Testing</h3>
<h4 id="boundary-value-analysis">Boundary Value Analysis</h4>
<ul>
<li><p>Consider <code>charAt(i)</code> in the <code>String</code> class. This method implements a function that takes as input an integer position, and returns the character at that position in the string.</p></li>
<li><p>The range of input, <em>i</em>, where <em>s</em> is the length of the string:</p>
<p>0 ≤ <em>i</em> ≤ <em>s</em> − 1</p></li>
<li><p>To test that <code>charAt</code> works correctly for a given string of length s, we would need to build the following input test cases</p>
<ul>
<li>Lower boundary value <em>i</em> = 0.</li>
<li>Upper boundary value <em>i</em> = <em>s</em> − 1.</li>
<li>A small increment on the lower boundary value, <em>i</em> = 1.</li>
<li>A small decrement on the upper boundary value, <em>i</em> = <em>s</em> − 2.</li>
<li>A nominal valye of <em>i</em> that is somewhere in the range that is not any of the above. $i = \frac{s}{2}$</li>
</ul></li>
<li>This is the basic <strong>boundary value analysis</strong> approach.</li>
<li><p>In general, if a function has an integer input <em>i</em>, which is between <em>l</em> and <em>h</em> in value, then the boundary analysis of the function selects the test input values <em>l</em>, <em>l</em> + <em>ε</em>, <em>l</em> + <em>ε</em>, <em>i</em><sub><em>n</em></sub>, <em>h</em> − <em>ε</em>, and <em>h</em>, where:</p>
<ul>
<li><p><em>i</em><sub><em>n</em></sub> is a nominal value of <em>i</em> somewhere in the range.</p></li>
<li><p><em>ε</em> is a small value, typically 1 for <code>int</code>.</p></li>
</ul></li>
</ul>
<h4 id="robustness-testing">Robustness testing</h4>
<ul>
<li><p>A simple extension of the basic boundary value analysis that includes two additional input values: <em>l</em> − <em>ε</em> <em>h</em> + <em>ε</em></p></li>
<li>These value fall outside the range but are class to the end value.
<ul>
<li>They should result in the function implementation returning gracefully, without computing a result.</li>
</ul></li>
<li><p>A Java method such as <code>charAt</code> would handle thes einputs by throwing an exception.</p>
<ul>
<li>It is graceful exit because it gives the client the choice to hangle this situation how they see fit.</li>
</ul></li>
<li><p>The test cases with robust testing of <code>charAt</code> would be: −1, 0, 1, <em>s</em> / 2, <em>s</em>−2, <em>s</em>−1, <em>s</em></p></li>
<li><p>Robustness testing uses seven test cases on a single-variable input function.</p></li>
<li><p>The main focus of robustness is on exception handling.</p></li>
</ul>
<h4 id="multi-variable-boundary-values">Multi-variable boundary values</h4>
<ul>
<li><p>Suppose you wrote a function <code>addHour</code> that, given a day and a time in hours, adds one hour to the time and outputs the resulting day and time.</p></li>
<li><p>The input variables here are integer <code>d</code>, for day, and an interger <code>h</code> for hour. Ranges:</p>
<p>1 ≤ <em>d</em> ≤ 6 0 ≤ <em>h</em> ≤ 23</p></li>
<li><p>To create the test cases, we follow the procedure for single variable boundary value analysis, except we repret for both variables.</p>
<ul>
<li>When we run through the gamut for one variable, we keep the value of the other fixed at the nominal value.</li>
</ul></li>
<li><p>Then the list of test cases using (day, hour)</p>
(<em>d</em><sub><em>n</em></sub>, 0), (<em>d</em><sub><em>n</em></sub>, 1), (<em>d</em><sub><em>n</em></sub>, <em>h</em><sub><em>n</em></sub>), (<em>d</em><sub><em>n</em></sub>, 22), (<em>d</em><sub><em>n</em></sub>, 23),  (1, <em>h</em><sub><em>n</em></sub>), (2, <em>h</em><sub><em>n</em></sub>), (<em>d</em><sub><em>n</em></sub>, <em>h</em><sub><em>n</em></sub>), (6, <em>h</em><sub><em>n</em></sub>), (7, <em>h</em><sub><em>n</em></sub>)
<ul>
<li>One test appears twice, so there are 9 distinct cases.</li>
</ul></li>
<li><p>For the numbers 4 and 12 for day and hour, there are nine distinct test cases:</p>
<p>(4, 0), (4, 1), (4, 12), (4, 22), (4, 23), (1, 12), (2, 12), (6, 12), (7, 12)</p></li>
<li><p>Robustness testing yields four more test cases:</p>
<p>(<em>d</em><sub><em>n</em></sub>, −1), (<em>d</em><sub><em>n</em></sub>, 24), (0, <em>h</em><sub><em>n</em></sub>), (8, <em>h</em><sub><em>n</em></sub>)</p></li>
<li><p>However, this general approach does not capture the important test cases (1, 23) and (7, 23) mentioned at the beginning of this discussion.</p></li>
<li><p>The reason the general approach followed above only works if the variables are <em>independant</em>.</p>
<ul>
<li>That is, if there are <em>n</em> independant variables, then the test cases are built by varying each indepedant variable thorugh all its test values while holding all the other variables at their respective nominal values.</li>
</ul></li>
<li><p>If the variables are dependant on each other, then we need to use all value tuples obtained by combining the test values of the variables in all possible ways.</p></li>
<li><p>For the <code>addHour</code> examples, this would mean all possible combination of <em>d</em> boundary values with those of <em>h</em> boundary values.</p></li>
<li><p>The test values for <em>d</em> are 1, 2, 3, 4, 5, 6, 7 and those for <em>h</em> are 0, 1, 12, 22, 23.</p>
<ul>
<li>So there are 25 combinations, each of which will be a test case.</li>
</ul></li>
<li>These combinations will include 1, 23 and 7, 23, among others.</li>
<li><p>Robustness testing does not get affected due to inter-dependance unless there are particular legitimate indivudual values whose combination is not legitimate.</p></li>
</ul>
<h4 id="equivalence-classes">Equivalence classes</h4>
<ul>
<li><p>Divides the input data of a software into partitions of equivilent data from which test cases can be derived.</p></li>
<li><p>In principle, test cases are designed to cover each partition at least once.</p></li>
<li><p>This technique tries to define test cases that uncover *classes of errors*.</p></li>
<li><p>Equivilence partitioning is typically applied to the inputs of a tested component.</p>
<ul>
<li>May be applied to outputs in rare cases.</li>
</ul></li>
<li><p>The fundamental concept of ECP comes from equivilence class, which in turn comes from equivilence relation.</p>
<pre><code>int safe_add( int a, int b ) {
    int c = a + b;
    if ( a &gt;= 0 &amp;&amp; b &gt;= 0 &amp;&amp; c &lt; 0 )
    {
        fprintf ( stderr, &quot;Overflow!\n&quot; );
    } 
    if ( a &lt; 0 &amp;&amp; b &lt; 0 &amp;&amp; c &gt;= 0 )
    {
        fprintf ( stderr, &quot;Underflow!\n&quot; );
    } 
    return c;
}</code></pre></li>
<li><p>The boundary values approach results in a lot of test cases, many of which are repetitious or redundant.</p>
<pre><code>+------+---+---+
| Test | d | h |
+------+---+---+
| 1    | 1 | 0 |
| 2    | 1 | 1 |
| 3    | 1 | 12|
| 4    | 1 | 22|
| 5    | 1 | 23|
| 6    | 2 | 0 |
| 7    | 2 | 1 |
| .    | . | . |
| .    | . | . |
| .    | . | . |
| 24   | 7 | 22|
| 25   | 7 | 23|
+------+---+---+</code></pre></li>
<li>Consider each group of tests with the same <em>d</em> and different <em>h</em>'s.
<ul>
<li>In the first group of 5 tests, with <em>d</em> = 1, all tests except the last result in the same type of input.</li>
</ul></li>
<li><p>Why not break these into categories? All tests in each category would produce similar successes or failures.</p>
<ul>
<li>Category 1: All tests for which output <em>d</em> is same as input <em>d</em>.</li>
<li><p>Category 2: All tests for which the output <em>d</em> is different from input <em>d</em>, but not 1.</p></li>
<li><p>Category 3: All tests for which the output <em>d</em> is different from the input <em>d</em>, and is 1.</p></li>
</ul></li>
<li><p>Each category is called an <em>equivilence class</em> and the cetgorization is called <em>equivilence partitioning</em></p>
<ul>
<li>Equivilence partitioning can also be done for test cases that are expected to result in errors, for robustness testing.</li>
</ul></li>
<li><p>Consider the example of a rectangle, where you have a method called <code>pointInRectangle</code>. It returns <code>0</code> if the point is <em>on</em> the rectangle, <code>-1</code> if the point is <em>not</em> on or in the rectangle, and <code>1</code> if it is <em>in</em> the rectangle.</p>
<ul>
<li><p>This function does not have a continuum of results, insteads it partitions the results into three calses of outcomes.</p></li>
<li><p>This then leads to partitioning the input into equvilence classes.</p></li>
<li><p>Each equivilence class would comprise all inputs that result in one of the possible outcomes, or force one type of error.</p></li>
<li><p>Since we are assuming all inputs are legal coordinates, to start with, we will build equvilance classes for the possible correct outcomes.</p></li>
</ul></li>
</ul>
<h3 id="multithreading-and-synchronization-on-shared-resources">Multithreading and synchronization on shared resources</h3>
<h4 id="multithreading-i0-with-computation">Multithreading I/0 with Computation</h4>
<ul>
<li>The steps to make a program multithreaded:
<ol style="list-style-type: decimal">
<li><p>Extend the <code>java.lang.Thread</code> class.</p>
<pre><code>public class Program extends Thread { ... }</code></pre></li>
<li><p>Place code you want to execute indepedantly in the <code>run</code> method</p>
<pre><code>public void run() { ... }</code></pre></li>
<li>Make any parameters you need static fields.</li>
<li><p>Define a constructor that starts up an independant thread for run.</p>
<pre><code>public ProgramThread() { start(); }</code></pre>
<ul>
<li>This method is defined in the <code>Thread</code> class, calling it sets up the necessary resources to run an independant thread and starts up the thread to execute the run method.</li>
</ul>
<blockquote>
<p>Note: Calling run directly (instead of start) will <em>not</em> start an independant thread.</p>
</blockquote></li>
<li><p>Change the main method to set up and independant thread for your computation. When the user interupts your program, report the current computation.</p></li>
</ol></li>
<li><p>Every time the user hits enter, the main thread fetches the current status of your computation and prints it out.</p></li>
<li>Meanwhile, the program thread continues its computation.</li>
<li><p>If the user types &quot;quit&quot;, the program thread continues indepedantly until the end of the current conditional or whatever might be happening in there.</p></li>
</ul>
<h4 id="why-threads">Why threads</h4>
<ul>
<li><p>A thread runs asynchronously, independant of the thread that created it.</p></li>
<li><p>A Java application or applet itself runs as a thread, and can spin off as many threads as needed.</p></li>
<li><p>A collection of asyncrhously running threads may communicate with each other via a buffer, or directly invoking methods on each other.</p></li>
<li><p>Asynchrous computing allows several tasks to be performed in parallel, resulting in:</p>
<ul>
<li><strong>improved executing time</strong> for the application as a whole.</li>
<li><strong>improved turn around time</strong> seen by the user, for instance the consumer thread displays data on the fly as it comes from the server, instead of blocking until all data is available.</li>
</ul></li>
<li><p>Asynchrounous computing places more onus on the programmer to ensure that the program:</p>
<ul>
<li><p><strong>avoids race conditions</strong>, two threads trying to update a variable at the same time.</p></li>
<li><p><strong>maintains consistency of data</strong>, two transactions both withdraw money from an account, but the second does not see the withdrawal being made by the first.</p></li>
</ul></li>
</ul>
<h4 id="lifecycle-of-a-thread">Lifecycle of a thread</h4>
<p>A thread is born, started, run, and then terminated.</p>
<ul>
<li><p><strong>New</strong>: A new thread begins its life cycle in the new state. It remains in this state until the program starts the thread.</p></li>
<li><p><strong>Runnable</strong>: After a newly born thread is started, the thread becomes runnable. It is executing a task.</p></li>
<li><p><strong>Waiting</strong>: Sometimes a thread transitions to the waiting state while the thread waits for another thread to perform a task. A thread transitions back to the runnable state only when another thread signals the waiting thread to continue executing.</p></li>
<li><p><strong>Timed waiting</strong>: A runnable thread can enter the timed waiting state for a specified interal of time. A thread in this state transitions back to the runnable state when that time interval expires or when the event it is waiting for occurs.</p></li>
<li><p><strong>Terminated</strong>: A runnable thread enters the terminated state when it completes the task or is otherwise terminated.</p></li>
</ul>
<h4 id="thread-priorities">Thread priorities</h4>
<ul>
<li><p>Every Java thread has a priority that helps the operating system determine the order in which threads are scheduled.</p></li>
<li><p>Java priorities are in the range between <code>MIN_PRIORITY</code> (1) and <code>MAX_PRIORITY</code> (10),</p>
<ul>
<li>By default, every thread is <code>NORM_PRIORITY</code> (5).</li>
</ul></li>
<li><p>Threads with higher priority are more important to a program and should be allocated processor time before lower-priority threads,</p>
<ul>
<li>However, this is very platform dependant.</li>
</ul></li>
</ul>
<h4 id="a-thread-hello-world">A thread &quot;Hello, World!&quot;</h4>
<pre><code>class NewThread implements Runnable {
   Thread t;
   NewThread() {
      // Create a new, second thread
      t = new Thread(this, &quot;Demo Thread&quot;);
      System.out.println(&quot;Child thread: &quot; + t);
      t.start(); // Start the thread
   }

   // This is the entry point for the second thread.
   public void run() {
      try {
         for(int i = 5; i &gt; 0; i--) {
            System.out.println(&quot;Child Thread: &quot; + i);
            // Let the thread sleep for a while.
            Thread.sleep(500);
         }
     } catch (InterruptedException e) {
         System.out.println(&quot;Child interrupted.&quot;);
    }
     System.out.println(&quot;Exiting child thread.&quot;);
   }
}

public class ThreadDemo {
   public static void main(String args[]) {
      new NewThread(); // create a new thread
      try {
        for(int i = 5; i &gt; 0; i--) {
          System.out.println(&quot;Main Thread: &quot; + i);
           Thread.sleep(1000);
         }
      } catch (InterruptedException e) {
         System.out.println(&quot;Main thread interrupted.&quot;);
      }
      System.out.println(&quot;Main thread exiting.&quot;);
  }
}</code></pre>
<h4 id="recitation-9-question-1">Recitation 9, Question 1</h4>
<blockquote>
<p>Use threads to implement a stop watch that displays, once every five seconds, the minutes and seconds that have passed since it was started. The display should be in the form mm:ss for minutes and seconds. When the clock reaches 15 minutes, it should wrap back and start at 0 minutes and 0 seconds. The user should be able to stop the watch at any time. Write the complete code for the application. (Not the most accurate stop watch, but the model is useful for animations in which slight inaccuracies in time would not be detrimental.)</p>
</blockquote>
<ul>
<li><p><code>Watch</code> class</p>
<pre><code>class Watch {
    int mins;
    int secs;

    String allStr;

    public Watch() {
        mins = 0;
        secs = 0;
        allStr = &quot; 00:00&quot;;
    }

    public void stepUp() {
        secs = secs + 5;
        if (secs == 60) { 
            mins = (mins + 1) % 60;
            secs = 0;
        }
        if (mins &gt;= 15) mins = mins - 15;
        String minsStr = String.valueOf(mins);
        String secsStr = String.valueOf(secs);

        if (mins &lt; 10) minsStr = &quot;0&quot; + minsStr;
        if (secs &lt; 10) secsStr = &quot;0&quot; + secsStr;

        allStr = &quot; &quot; + minsStr + &quot;:&quot; + secsStr;
        System.out.println(allStr);
    }

    public void reset() {
        mins = 0;
        secs = 0;
        allStr = &quot; 00:00&quot;;
        System.out.println(allStr);
    }
}</code></pre></li>
<li><p><code>StopWatchThread</code></p>
<pre><code>class StopWatchThread  implements Runnable {
    private Watch w;
    public boolean quit = false;
    public boolean start = true;
    public boolean reset = false;
    public long startTime; 
    // delay is five second
    int delay = 5000;
    public void run() {
        startTime = System.currentTimeMillis();
        w = new Watch();
        // animation loop
        while (true) {
            if (quit)
                break;
            if (reset) {
                w.reset();
                startTime = System.currentTimeMillis();
                reset = false;
            }
            if (start) {
                try {
                    startTime += delay;
                    Thread.sleep(Math.max(0, startTime - System.cu  rrentTimeMillis()));
                    w.stepUp();
                } catch (InterruptedException e) {

                }               
            }

        }
    }
}</code></pre></li>
</ul>
<h4 id="recitation-12-question-1">Recitation 12, Question 1</h4>
<blockquote>
<p>Suppose you use a search engine to search for a word or phrase that results in a match with a large number (hundreds) of web pages. However, the browser will only display a list of n (some variable parameter) page links in one screenful. Implement a multi-threaded program with one thread for the browser display, and another for the search engine, and have the search engine deal &gt; out hits in batches of the max size the browser can display in one screenful. &gt; You may assume that a method called fetch has already been written in the search engine to fetch the next batch of hits, returned as a list of URL strings.</p>
</blockquote>
<pre><code>public class Searcher implements Runnable {
      private Request req;   // search request
      private Buffer buf;    // to store hits for display
      public Searcher(Request req, Buffer buf) {
         this.req = req;
         this.buf = buf;
         new Thread(this).start();
      }
      public void run() {
         while (true) {
            while ((List hits = fetchNext(req)) != null)  { // more
      results from fetch
               buf.put(hits);
         }
      }
   }

   public class Displayer implements Runnable {
      private Buffer buf;
      public Displayer(Buffer buf) {
         this.buf = buf;
         new Thread(this).start();
      }
      public void run() {
         while (true) {
            display(buf.get());
         }
      }
   }

   public class Buffer {
      List hits;
      boolean available = false;
      public synchronized void put(List hits) {
         while (available) {
            try {
                wait();
            }
            catch (Exception e) { }
         }
         available = true;
         this.hits = hits;
         notifyAll();
      }

      public synchronized List get() {
         while (!available) {
            try {
                wait();
            }
         catch (Exception e) { }
      }
      available = false;
      notifyAll();
      return hits;
   }</code></pre>
<h2 id="may-6th-2013---android-project-chess-or-photo-album-or-roll-your-own">May 6th, 2013 - Android Project: Chess OR Photo Album OR Roll Your Own</h2>
<p>You will continue working in pairs. You are allowed to roll your own project (RYO) but if you choose to do so, you must get approval from Prof. Venugopal.</p>
<h3 id="photo-album">Photo Album</h3>
<p>You are not required to carry over all the functionality from the Swing implementation. Instead, you will implement a smaller set, as described below. You may reuse any of the code from your GUI project.</p>
<p>Since the app will run on a personal smart phone, there is only a single user, who is the owner of the phone. So there is no logging in, and no admin functionality. Also, explicit captions are not required for photos (the filename will stand for the caption). Dates are not required either.</p>
<p>Your app should implement the following features:</p>
<ul>
<li><p>30 pts Home screen. When the app comes up, it should load album and photo data from the previous session, if any, and list all albums. Off this &quot;home&quot; screen, you should be able to do the following, in one or more navigational steps.</p></li>
<li><p>40 pts Open, create, delete, and rename albums as listed in the GUI project description. When opening an album, display all its photos, with their thumbnail images.</p></li>
<li><p>40 pts Once an album is open, you should be able to add, remove, or display a photo. Displaying a photo could trigger a manual slideshow, allowing you to go backward or forward in the album one photo at a time.</p></li>
<li><p>20 pts When a photo is displayed, you should be able to add a tag to a photo. Only person and location are valid tag types; there are no typeless tags. You should also be able to delete a tag from a photo. Note: When displaying a photo, tags (if any) should be visible.</p></li>
<li>20 pts You should be able to move a photo from one album to another</li>
<li><p>50 pts You should be able to search for photos by tag (person or location), and matches should allow completion. For instance, if a location &quot;New&quot; is typed, matches should include photos taken in New York, New Mexico, New Zealand, etc. Note: You are not required to implement functionality to save the matching photos in an album.</p></li>
</ul>
<p>You may serialize the albums and photos, but are not required to do so - you can use alternative formats for storage on the device. Also, because the user may switch out of your app to do other things (text, phone, etc.) at any time, there is no single exit point. This means your app must save any update to the device as soon as the update is made by the user (<em>write persistence/write through</em>).</p>
<h3 id="chess">Chess</h3>
<p>Following up on the terminal-based Chess program, create an android app that lets two people play chess with each other on the phone. You may reuse any code from your chess assignment that you like. You have to implement all the moves for all the pieces, determination of check, and illegal moves (including any that puts the mover's King in check), but you are not required to implement checkmate and stalemate.</p>
<p>Your app should have a Home activity that lets you choose from the following three other activities:</p>
<h4 id="playing-chess-120-pts">Playing chess (120 pts)</h4>
<ul>
<li>30 pts Two humans can use your app to play a game of Chess.</li>
<li><p>20 pts Your app must draw the board with icons and correctly shaded squares.</p></li>
<li><p>20 pts Players must move their pieces using touch input - either dragging a piece or touching first the piece's original square and then its destination.</p></li>
<li><p>10 pts Provide an 'undo' button that will undo the last move (but no farther).</p></li>
<li><p>10 pts Provide an 'AI' button that will choose a move for the current player. Choosing randomly from the set of legal moves is sufficient.</p></li>
<li>20 pts Provide functional 'draw' and 'resign' buttons.</li>
<li><p>10 pts When the game is over, report the outcome (but not in a popup).</p></li>
</ul>
<h4 id="recording-games-50-pts">Recording games (50 pts)</h4>
<ul>
<li>20 pts Record all games as they're being played.</li>
<li><p>10 pts At the conclusion of a game, offer to store it and prompt the user for a game title.</p></li>
<li><p>20 pts List all recorded games, sorted by both date and by title (user can select which view to choose).</p></li>
</ul>
<h4 id="game-playback-30-pts">Game playback (30 pts)</h4>
<ul>
<li>A button that allows the user to play a selected game one move at a time.</li>
</ul> 
{% endraw %}